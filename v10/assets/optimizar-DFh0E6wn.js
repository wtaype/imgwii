import{j as at}from"./vendor-gzd0YkcT.js";import{c as be,N as zt,d as ne}from"./main-DiRykjcO.js";import"./main-Bn5r1z0w.js";import"./firebase-hInFyLJF.js";function we(j,M){return M.forEach((function(y){y&&typeof y!="string"&&!Array.isArray(y)&&Object.keys(y).forEach((function(b){if(b!=="default"&&!(b in j)){var e=Object.getOwnPropertyDescriptor(y,b);Object.defineProperty(j,b,e.get?e:{enumerable:!0,get:function(){return y[b]}})}}))})),Object.freeze(j)}function ie(j,M){return new Promise((function(y,b){let e;return ye(j).then((function(t){try{return e=t,y(new Blob([M.slice(0,2),e,M.slice(2)],{type:"image/jpeg"}))}catch(l){return b(l)}}),b)}))}const ye=j=>new Promise(((M,y)=>{const b=new FileReader;b.addEventListener("load",(({target:{result:e}})=>{const t=new DataView(e);let l=0;if(t.getUint16(l)!==65496)return y("not a valid JPEG");for(l+=2;;){const r=t.getUint16(l);if(r===65498)break;const d=t.getUint16(l+2);if(r===65505&&t.getUint32(l+4)===1165519206){const _=l+10;let o;switch(t.getUint16(_)){case 18761:o=!0;break;case 19789:o=!1;break;default:return y("TIFF header contains invalid endian")}if(t.getUint16(_+2,o)!==42)return y("TIFF header contains invalid version");const s=t.getUint32(_+4,o),i=_+s+2+12*t.getUint16(_+s,o);for(let n=_+s+2;n<i;n+=12)if(t.getUint16(n,o)==274){if(t.getUint16(n+2,o)!==3)return y("Orientation data type is invalid");if(t.getUint32(n+4,o)!==1)return y("Orientation data count is invalid");t.setUint16(n+8,1,o);break}return M(e.slice(l,l+2+d))}l+=2+d}return M(new Blob)})),b.readAsArrayBuffer(j)}));var Ht={},ke={get exports(){return Ht},set exports(j){Ht=j}};(function(j){var M,y,b={};ke.exports=b,b.parse=function(e,t){for(var l=b.bin.readUshort,r=b.bin.readUint,d=0,_={},o=new Uint8Array(e),s=o.length-4;r(o,s)!=101010256;)s--;d=s,d+=4;var i=l(o,d+=4);l(o,d+=2);var n=r(o,d+=2),h=r(o,d+=4);d+=4,d=h;for(var f=0;f<i;f++){r(o,d),d+=4,d+=4,d+=4,r(o,d+=4),n=r(o,d+=4);var p=r(o,d+=4),c=l(o,d+=4),k=l(o,d+2),C=l(o,d+4);d+=6;var S=r(o,d+=8);d+=4,d+=c+k+C,b._readLocal(o,S,_,n,p,t)}return _},b._readLocal=function(e,t,l,r,d,_){var o=b.bin.readUshort,s=b.bin.readUint;s(e,t),o(e,t+=4),o(e,t+=2);var i=o(e,t+=2);s(e,t+=2),s(e,t+=4),t+=4;var n=o(e,t+=8),h=o(e,t+=2);t+=2;var f=b.bin.readUTF8(e,t,n);if(t+=n,t+=h,_)l[f]={size:d,csize:r};else{var p=new Uint8Array(e.buffer,t);if(i==0)l[f]=new Uint8Array(p.buffer.slice(t,t+r));else{if(i!=8)throw"unknown compression method: "+i;var c=new Uint8Array(d);b.inflateRaw(p,c),l[f]=c}}},b.inflateRaw=function(e,t){return b.F.inflate(e,t)},b.inflate=function(e,t){return e[0],e[1],b.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},b.deflate=function(e,t){t==null&&(t={level:6});var l=0,r=new Uint8Array(50+Math.floor(1.1*e.length));r[l]=120,r[l+1]=156,l+=2,l=b.F.deflateRaw(e,r,l,t.level);var d=b.adler(e,0,e.length);return r[l+0]=d>>>24&255,r[l+1]=d>>>16&255,r[l+2]=d>>>8&255,r[l+3]=d>>>0&255,new Uint8Array(r.buffer,0,l+4)},b.deflateRaw=function(e,t){t==null&&(t={level:6});var l=new Uint8Array(50+Math.floor(1.1*e.length)),r=b.F.deflateRaw(e,l,r,t.level);return new Uint8Array(l.buffer,0,r)},b.encode=function(e,t){t==null&&(t=!1);var l=0,r=b.bin.writeUint,d=b.bin.writeUshort,_={};for(var o in e){var s=!b._noNeed(o)&&!t,i=e[o],n=b.crc.crc(i,0,i.length);_[o]={cpr:s,usize:i.length,crc:n,file:s?b.deflateRaw(i):i}}for(var o in _)l+=_[o].file.length+30+46+2*b.bin.sizeUTF8(o);l+=22;var h=new Uint8Array(l),f=0,p=[];for(var o in _){var c=_[o];p.push(f),f=b._writeHeader(h,f,o,c,0)}var k=0,C=f;for(var o in _)c=_[o],p.push(f),f=b._writeHeader(h,f,o,c,1,p[k++]);var S=f-C;return r(h,f,101010256),f+=4,d(h,f+=4,k),d(h,f+=2,k),r(h,f+=2,S),r(h,f+=4,C),f+=4,f+=2,h.buffer},b._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},b._writeHeader=function(e,t,l,r,d,_){var o=b.bin.writeUint,s=b.bin.writeUshort,i=r.file;return o(e,t,d==0?67324752:33639248),t+=4,d==1&&(t+=2),s(e,t,20),s(e,t+=2,0),s(e,t+=2,r.cpr?8:0),o(e,t+=2,0),o(e,t+=4,r.crc),o(e,t+=4,i.length),o(e,t+=4,r.usize),s(e,t+=4,b.bin.sizeUTF8(l)),s(e,t+=2,0),t+=2,d==1&&(t+=2,t+=2,o(e,t+=6,_),t+=4),t+=b.bin.writeUTF8(e,t,l),d==0&&(e.set(i,t),t+=i.length),t},b.crc={table:(function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var l=t,r=0;r<8;r++)1&l?l=3988292384^l>>>1:l>>>=1;e[t]=l}return e})(),update:function(e,t,l,r){for(var d=0;d<r;d++)e=b.crc.table[255&(e^t[l+d])]^e>>>8;return e},crc:function(e,t,l){return 4294967295^b.crc.update(4294967295,e,t,l)}},b.adler=function(e,t,l){for(var r=1,d=0,_=t,o=t+l;_<o;){for(var s=Math.min(_+5552,o);_<s;)d+=r+=e[_++];r%=65521,d%=65521}return d<<16|r},b.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255,e[t+2]=l>>16&255,e[t+3]=l>>24&255},readASCII:function(e,t,l){for(var r="",d=0;d<l;d++)r+=String.fromCharCode(e[t+d]);return r},writeASCII:function(e,t,l){for(var r=0;r<l.length;r++)e[t+r]=l.charCodeAt(r)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,l){for(var r,d="",_=0;_<l;_++)d+="%"+b.bin.pad(e[t+_].toString(16));try{r=decodeURIComponent(d)}catch{return b.bin.readASCII(e,t,l)}return r},writeUTF8:function(e,t,l){for(var r=l.length,d=0,_=0;_<r;_++){var o=l.charCodeAt(_);if((4294967168&o)==0)e[t+d]=o,d++;else if((4294965248&o)==0)e[t+d]=192|o>>6,e[t+d+1]=128|o>>0&63,d+=2;else if((4294901760&o)==0)e[t+d]=224|o>>12,e[t+d+1]=128|o>>6&63,e[t+d+2]=128|o>>0&63,d+=3;else{if((4292870144&o)!=0)throw"e";e[t+d]=240|o>>18,e[t+d+1]=128|o>>12&63,e[t+d+2]=128|o>>6&63,e[t+d+3]=128|o>>0&63,d+=4}}return d},sizeUTF8:function(e){for(var t=e.length,l=0,r=0;r<t;r++){var d=e.charCodeAt(r);if((4294967168&d)==0)l++;else if((4294965248&d)==0)l+=2;else if((4294901760&d)==0)l+=3;else{if((4292870144&d)!=0)throw"e";l+=4}}return l}},b.F={},b.F.deflateRaw=function(e,t,l,r){var d=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][r],_=b.F.U,o=b.F._goodIndex;b.F._hash;var s=b.F._putsE,i=0,n=l<<3,h=0,f=e.length;if(r==0){for(;i<f;)s(t,n,i+(B=Math.min(65535,f-i))==f?1:0),n=b.F._copyExact(e,i,B,t,n+8),i+=B;return n>>>3}var p=_.lits,c=_.strt,k=_.prev,C=0,S=0,U=0,A=0,F=0,w=0;for(f>2&&(c[w=b.F._hash(e,0)]=0),i=0;i<f;i++){if(F=w,i+1<f-2){w=b.F._hash(e,i+1);var m=i+1&32767;k[m]=c[w],c[w]=m}if(h<=i){(C>14e3||S>26697)&&f-i>100&&(h<i&&(p[C]=i-h,C+=2,h=i),n=b.F._writeBlock(i==f-1||h==f?1:0,p,C,A,e,U,i-U,t,n),C=S=A=0,U=i);var O=0;i<f-2&&(O=b.F._bestMatch(e,i,k,F,Math.min(d[2],f-i),d[3]));var B=O>>>16,g=65535&O;if(O!=0){g=65535&O;var E=o(B=O>>>16,_.of0);_.lhst[257+E]++;var a=o(g,_.df0);_.dhst[a]++,A+=_.exb[E]+_.dxb[a],p[C]=B<<23|i-h,p[C+1]=g<<16|E<<8|a,C+=2,h=i+B}else _.lhst[e[i]]++;S++}}for(U==i&&e.length!=0||(h<i&&(p[C]=i-h,C+=2,h=i),n=b.F._writeBlock(1,p,C,A,e,U,i-U,t,n),C=0,S=0,C=S=A=0,U=i);(7&n)!=0;)n++;return n>>>3},b.F._bestMatch=function(e,t,l,r,d,_){var o=32767&t,s=l[o],i=o-s+32768&32767;if(s==o||r!=b.F._hash(e,t-i))return 0;for(var n=0,h=0,f=Math.min(32767,t);i<=f&&--_!=0&&s!=o;){if(n==0||e[t+n]==e[t+n-i]){var p=b.F._howLong(e,t,i);if(p>n){if(h=i,(n=p)>=d)break;i+2<p&&(p=i+2);for(var c=0,k=0;k<p-2;k++){var C=t-i+k+32768&32767,S=C-l[C]+32768&32767;S>c&&(c=S,s=C)}}}i+=(o=s)-(s=l[o])+32768&32767}return n<<16|h},b.F._howLong=function(e,t,l){if(e[t]!=e[t-l]||e[t+1]!=e[t+1-l]||e[t+2]!=e[t+2-l])return 0;var r=t,d=Math.min(e.length,t+258);for(t+=3;t<d&&e[t]==e[t-l];)t++;return t-r},b.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},b.saved=0,b.F._writeBlock=function(e,t,l,r,d,_,o,s,i){var n,h,f,p,c,k,C,S,U,A=b.F.U,F=b.F._putsF,w=b.F._putsE;A.lhst[256]++,h=(n=b.F.getTrees())[0],f=n[1],p=n[2],c=n[3],k=n[4],C=n[5],S=n[6],U=n[7];var m=32+((i+3&7)==0?0:8-(i+3&7))+(o<<3),O=r+b.F.contSize(A.fltree,A.lhst)+b.F.contSize(A.fdtree,A.dhst),B=r+b.F.contSize(A.ltree,A.lhst)+b.F.contSize(A.dtree,A.dhst);B+=14+3*C+b.F.contSize(A.itree,A.ihst)+(2*A.ihst[16]+3*A.ihst[17]+7*A.ihst[18]);for(var g=0;g<286;g++)A.lhst[g]=0;for(g=0;g<30;g++)A.dhst[g]=0;for(g=0;g<19;g++)A.ihst[g]=0;var E=m<O&&m<B?0:O<B?1:2;if(F(s,i,e),F(s,i+1,E),i+=3,E==0){for(;(7&i)!=0;)i++;i=b.F._copyExact(d,_,o,s,i)}else{var a,R;if(E==1&&(a=A.fltree,R=A.fdtree),E==2){b.F.makeCodes(A.ltree,h),b.F.revCodes(A.ltree,h),b.F.makeCodes(A.dtree,f),b.F.revCodes(A.dtree,f),b.F.makeCodes(A.itree,p),b.F.revCodes(A.itree,p),a=A.ltree,R=A.dtree,w(s,i,c-257),w(s,i+=5,k-1),w(s,i+=5,C-4),i+=4;for(var x=0;x<C;x++)w(s,i+3*x,A.itree[1+(A.ordr[x]<<1)]);i+=3*C,i=b.F._codeTiny(S,A.itree,s,i),i=b.F._codeTiny(U,A.itree,s,i)}for(var v=_,$=0;$<l;$+=2){for(var T=t[$],G=T>>>23,L=v+(8388607&T);v<L;)i=b.F._writeLit(d[v++],a,s,i);if(G!=0){var D=t[$+1],Y=D>>16,W=D>>8&255,P=255&D;w(s,i=b.F._writeLit(257+W,a,s,i),G-A.of0[W]),i+=A.exb[W],F(s,i=b.F._writeLit(P,R,s,i),Y-A.df0[P]),i+=A.dxb[P],v+=G}}i=b.F._writeLit(256,a,s,i)}return i},b.F._copyExact=function(e,t,l,r,d){var _=d>>>3;return r[_]=l,r[_+1]=l>>>8,r[_+2]=255-r[_],r[_+3]=255-r[_+1],_+=4,r.set(new Uint8Array(e.buffer,t,l),_),d+(l+4<<3)},b.F.getTrees=function(){for(var e=b.F.U,t=b.F._hufTree(e.lhst,e.ltree,15),l=b.F._hufTree(e.dhst,e.dtree,15),r=[],d=b.F._lenCodes(e.ltree,r),_=[],o=b.F._lenCodes(e.dtree,_),s=0;s<r.length;s+=2)e.ihst[r[s]]++;for(s=0;s<_.length;s+=2)e.ihst[_[s]]++;for(var i=b.F._hufTree(e.ihst,e.itree,7),n=19;n>4&&e.itree[1+(e.ordr[n-1]<<1)]==0;)n--;return[t,l,i,d,o,n,r,_]},b.F.getSecond=function(e){for(var t=[],l=0;l<e.length;l+=2)t.push(e[l+1]);return t},b.F.nonZero=function(e){for(var t="",l=0;l<e.length;l+=2)e[l+1]!=0&&(t+=(l>>1)+",");return t},b.F.contSize=function(e,t){for(var l=0,r=0;r<t.length;r++)l+=t[r]*e[1+(r<<1)];return l},b.F._codeTiny=function(e,t,l,r){for(var d=0;d<e.length;d+=2){var _=e[d],o=e[d+1];r=b.F._writeLit(_,t,l,r);var s=_==16?2:_==17?3:7;_>15&&(b.F._putsE(l,r,o,s),r+=s)}return r},b.F._lenCodes=function(e,t){for(var l=e.length;l!=2&&e[l-1]==0;)l-=2;for(var r=0;r<l;r+=2){var d=e[r+1],_=r+3<l?e[r+3]:-1,o=r+5<l?e[r+5]:-1,s=r==0?-1:e[r-1];if(d==0&&_==d&&o==d){for(var i=r+5;i+2<l&&e[i+2]==d;)i+=2;(n=Math.min(i+1-r>>>1,138))<11?t.push(17,n-3):t.push(18,n-11),r+=2*n-2}else if(d==s&&_==d&&o==d){for(i=r+5;i+2<l&&e[i+2]==d;)i+=2;var n=Math.min(i+1-r>>>1,6);t.push(16,n-3),r+=2*n-2}else t.push(d,0)}return l>>>1},b.F._hufTree=function(e,t,l){var r=[],d=e.length,_=t.length,o=0;for(o=0;o<_;o+=2)t[o]=0,t[o+1]=0;for(o=0;o<d;o++)e[o]!=0&&r.push({lit:o,f:e[o]});var s=r.length,i=r.slice(0);if(s==0)return 0;if(s==1){var n=r[0].lit;return i=n==0?1:0,t[1+(n<<1)]=1,t[1+(i<<1)]=1,1}r.sort((function(S,U){return S.f-U.f}));var h=r[0],f=r[1],p=0,c=1,k=2;for(r[0]={lit:-1,f:h.f+f.f,l:h,r:f,d:0};c!=s-1;)h=p!=c&&(k==s||r[p].f<r[k].f)?r[p++]:r[k++],f=p!=c&&(k==s||r[p].f<r[k].f)?r[p++]:r[k++],r[c++]={lit:-1,f:h.f+f.f,l:h,r:f};var C=b.F.setDepth(r[c-1],0);for(C>l&&(b.F.restrictDepth(i,l,C),C=l),o=0;o<s;o++)t[1+(i[o].lit<<1)]=i[o].d;return C},b.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(b.F.setDepth(e.l,t+1),b.F.setDepth(e.r,t+1))},b.F.restrictDepth=function(e,t,l){var r=0,d=1<<l-t,_=0;for(e.sort((function(s,i){return i.d==s.d?s.f-i.f:i.d-s.d})),r=0;r<e.length&&e[r].d>t;r++){var o=e[r].d;e[r].d=t,_+=d-(1<<l-o)}for(_>>>=l-t;_>0;)(o=e[r].d)<t?(e[r].d++,_-=1<<t-o-1):r++;for(;r>=0;r--)e[r].d==t&&_<0&&(e[r].d--,_++);_!=0&&console.log("debt left")},b.F._goodIndex=function(e,t){var l=0;return t[16|l]<=e&&(l|=16),t[8|l]<=e&&(l|=8),t[4|l]<=e&&(l|=4),t[2|l]<=e&&(l|=2),t[1|l]<=e&&(l|=1),l},b.F._writeLit=function(e,t,l,r){return b.F._putsF(l,r,t[e<<1]),r+t[1+(e<<1)]},b.F.inflate=function(e,t){var l=Uint8Array;if(e[0]==3&&e[1]==0)return t||new l(0);var r=b.F,d=r._bitsF,_=r._bitsE,o=r._decodeTiny,s=r.makeCodes,i=r.codes2map,n=r._get17,h=r.U,f=t==null;f&&(t=new l(e.length>>>2<<3));for(var p,c,k=0,C=0,S=0,U=0,A=0,F=0,w=0,m=0,O=0;k==0;)if(k=d(e,O,1),C=d(e,O+1,2),O+=3,C!=0){if(f&&(t=b.F._check(t,m+(1<<17))),C==1&&(p=h.flmap,c=h.fdmap,F=511,w=31),C==2){S=_(e,O,5)+257,U=_(e,O+5,5)+1,A=_(e,O+10,4)+4,O+=14;for(var B=0;B<38;B+=2)h.itree[B]=0,h.itree[B+1]=0;var g=1;for(B=0;B<A;B++){var E=_(e,O+3*B,3);h.itree[1+(h.ordr[B]<<1)]=E,E>g&&(g=E)}O+=3*A,s(h.itree,g),i(h.itree,g,h.imap),p=h.lmap,c=h.dmap,O=o(h.imap,(1<<g)-1,S+U,e,O,h.ttree);var a=r._copyOut(h.ttree,0,S,h.ltree);F=(1<<a)-1;var R=r._copyOut(h.ttree,S,U,h.dtree);w=(1<<R)-1,s(h.ltree,a),i(h.ltree,a,p),s(h.dtree,R),i(h.dtree,R,c)}for(;;){var x=p[n(e,O)&F];O+=15&x;var v=x>>>4;if(!(v>>>8))t[m++]=v;else{if(v==256)break;var $=m+v-254;if(v>264){var T=h.ldef[v-257];$=m+(T>>>3)+_(e,O,7&T),O+=7&T}var G=c[n(e,O)&w];O+=15&G;var L=G>>>4,D=h.ddef[L],Y=(D>>>4)+d(e,O,15&D);for(O+=15&D,f&&(t=b.F._check(t,m+(1<<17)));m<$;)t[m]=t[m++-Y],t[m]=t[m++-Y],t[m]=t[m++-Y],t[m]=t[m++-Y];m=$}}}else{(7&O)!=0&&(O+=8-(7&O));var W=4+(O>>>3),P=e[W-4]|e[W-3]<<8;f&&(t=b.F._check(t,m+P)),t.set(new l(e.buffer,e.byteOffset+W,P),m),O=W+P<<3,m+=P}return t.length==m?t:t.slice(0,m)},b.F._check=function(e,t){var l=e.length;if(t<=l)return e;var r=new Uint8Array(Math.max(l<<1,t));return r.set(e,0),r},b.F._decodeTiny=function(e,t,l,r,d,_){for(var o=b.F._bitsE,s=b.F._get17,i=0;i<l;){var n=e[s(r,d)&t];d+=15&n;var h=n>>>4;if(h<=15)_[i]=h,i++;else{var f=0,p=0;h==16?(p=3+o(r,d,2),d+=2,f=_[i-1]):h==17?(p=3+o(r,d,3),d+=3):h==18&&(p=11+o(r,d,7),d+=7);for(var c=i+p;i<c;)_[i]=f,i++}}return d},b.F._copyOut=function(e,t,l,r){for(var d=0,_=0,o=r.length>>>1;_<l;){var s=e[_+t];r[_<<1]=0,r[1+(_<<1)]=s,s>d&&(d=s),_++}for(;_<o;)r[_<<1]=0,r[1+(_<<1)]=0,_++;return d},b.F.makeCodes=function(e,t){for(var l,r,d,_,o=b.F.U,s=e.length,i=o.bl_count,n=0;n<=t;n++)i[n]=0;for(n=1;n<s;n+=2)i[e[n]]++;var h=o.next_code;for(l=0,i[0]=0,r=1;r<=t;r++)l=l+i[r-1]<<1,h[r]=l;for(d=0;d<s;d+=2)(_=e[d+1])!=0&&(e[d]=h[_],h[_]++)},b.F.codes2map=function(e,t,l){for(var r=e.length,d=b.F.U.rev15,_=0;_<r;_+=2)if(e[_+1]!=0)for(var o=_>>1,s=e[_+1],i=o<<4|s,n=t-s,h=e[_]<<n,f=h+(1<<n);h!=f;)l[d[h]>>>15-t]=i,h++},b.F.revCodes=function(e,t){for(var l=b.F.U.rev15,r=15-t,d=0;d<e.length;d+=2){var _=e[d]<<t-e[d+1];e[d]=l[_]>>>r}},b.F._putsE=function(e,t,l){l<<=7&t;var r=t>>>3;e[r]|=l,e[r+1]|=l>>>8},b.F._putsF=function(e,t,l){l<<=7&t;var r=t>>>3;e[r]|=l,e[r+1]|=l>>>8,e[r+2]|=l>>>16},b.F._bitsE=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<l)-1},b.F._bitsF=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<l)-1},b.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},b.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},b.F.U=(M=Uint16Array,y=Uint32Array,{next_code:new M(16),bl_count:new M(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new M(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new y(32),flmap:new M(512),fltree:[],fdmap:new M(32),fdtree:[],lmap:new M(32768),ltree:[],ttree:[],dmap:new M(32768),dtree:[],imap:new M(512),itree:[],rev15:new M(32768),lhst:new y(286),dhst:new y(30),ihst:new y(19),lits:new y(15e3),strt:new M(65536),prev:new M(32768)}),(function(){for(var e=b.F.U,t=0;t<32768;t++){var l=t;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,e.rev15[t]=(l>>>16|l<<16)>>>17}function r(d,_,o){for(;_--!=0;)d.push(0,o)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];r(e.fltree,144,8),r(e.fltree,112,9),r(e.fltree,24,7),r(e.fltree,8,8),b.F.makeCodes(e.fltree,9),b.F.codes2map(e.fltree,9,e.flmap),b.F.revCodes(e.fltree,9),r(e.fdtree,32,5),b.F.makeCodes(e.fdtree,5),b.F.codes2map(e.fdtree,5,e.fdmap),b.F.revCodes(e.fdtree,5),r(e.itree,19,0),r(e.ltree,286,0),r(e.dtree,30,0),r(e.ttree,320,0)})()})();var Ae=we({__proto__:null,default:Ht},[Ht]);const Ct=(function(){var j={nextZero(o,s){for(;o[s]!=0;)s++;return s},readUshort:(o,s)=>o[s]<<8|o[s+1],writeUshort(o,s,i){o[s]=i>>8&255,o[s+1]=255&i},readUint:(o,s)=>16777216*o[s]+(o[s+1]<<16|o[s+2]<<8|o[s+3]),writeUint(o,s,i){o[s]=i>>24&255,o[s+1]=i>>16&255,o[s+2]=i>>8&255,o[s+3]=255&i},readASCII(o,s,i){let n="";for(let h=0;h<i;h++)n+=String.fromCharCode(o[s+h]);return n},writeASCII(o,s,i){for(let n=0;n<i.length;n++)o[s+n]=i.charCodeAt(n)},readBytes(o,s,i){const n=[];for(let h=0;h<i;h++)n.push(o[s+h]);return n},pad:o=>o.length<2?`0${o}`:o,readUTF8(o,s,i){let n,h="";for(let f=0;f<i;f++)h+=`%${j.pad(o[s+f].toString(16))}`;try{n=decodeURIComponent(h)}catch{return j.readASCII(o,s,i)}return n}};function M(o,s,i,n){const h=s*i,f=t(n),p=Math.ceil(s*f/8),c=new Uint8Array(4*h),k=new Uint32Array(c.buffer),{ctype:C}=n,{depth:S}=n,U=j.readUshort;if(C==6){const T=h<<2;if(S==8)for(var A=0;A<T;A+=4)c[A]=o[A],c[A+1]=o[A+1],c[A+2]=o[A+2],c[A+3]=o[A+3];if(S==16)for(A=0;A<T;A++)c[A]=o[A<<1]}else if(C==2){const T=n.tabs.tRNS;if(T==null){if(S==8)for(A=0;A<h;A++){var F=3*A;k[A]=255<<24|o[F+2]<<16|o[F+1]<<8|o[F]}if(S==16)for(A=0;A<h;A++)F=6*A,k[A]=255<<24|o[F+4]<<16|o[F+2]<<8|o[F]}else{var w=T[0];const G=T[1],L=T[2];if(S==8)for(A=0;A<h;A++){var m=A<<2;F=3*A,k[A]=255<<24|o[F+2]<<16|o[F+1]<<8|o[F],o[F]==w&&o[F+1]==G&&o[F+2]==L&&(c[m+3]=0)}if(S==16)for(A=0;A<h;A++)m=A<<2,F=6*A,k[A]=255<<24|o[F+4]<<16|o[F+2]<<8|o[F],U(o,F)==w&&U(o,F+2)==G&&U(o,F+4)==L&&(c[m+3]=0)}}else if(C==3){const T=n.tabs.PLTE,G=n.tabs.tRNS,L=G?G.length:0;if(S==1)for(var O=0;O<i;O++){var B=O*p,g=O*s;for(A=0;A<s;A++){m=g+A<<2;var E=3*(a=o[B+(A>>3)]>>7-((7&A)<<0)&1);c[m]=T[E],c[m+1]=T[E+1],c[m+2]=T[E+2],c[m+3]=a<L?G[a]:255}}if(S==2)for(O=0;O<i;O++)for(B=O*p,g=O*s,A=0;A<s;A++)m=g+A<<2,E=3*(a=o[B+(A>>2)]>>6-((3&A)<<1)&3),c[m]=T[E],c[m+1]=T[E+1],c[m+2]=T[E+2],c[m+3]=a<L?G[a]:255;if(S==4)for(O=0;O<i;O++)for(B=O*p,g=O*s,A=0;A<s;A++)m=g+A<<2,E=3*(a=o[B+(A>>1)]>>4-((1&A)<<2)&15),c[m]=T[E],c[m+1]=T[E+1],c[m+2]=T[E+2],c[m+3]=a<L?G[a]:255;if(S==8)for(A=0;A<h;A++){var a;m=A<<2,E=3*(a=o[A]),c[m]=T[E],c[m+1]=T[E+1],c[m+2]=T[E+2],c[m+3]=a<L?G[a]:255}}else if(C==4){if(S==8)for(A=0;A<h;A++){m=A<<2;var R=o[x=A<<1];c[m]=R,c[m+1]=R,c[m+2]=R,c[m+3]=o[x+1]}if(S==16)for(A=0;A<h;A++){var x;m=A<<2,R=o[x=A<<2],c[m]=R,c[m+1]=R,c[m+2]=R,c[m+3]=o[x+2]}}else if(C==0)for(w=n.tabs.tRNS?n.tabs.tRNS:-1,O=0;O<i;O++){const T=O*p,G=O*s;if(S==1)for(var v=0;v<s;v++){var $=(R=255*(o[T+(v>>>3)]>>>7-(7&v)&1))==255*w?0:255;k[G+v]=$<<24|R<<16|R<<8|R}else if(S==2)for(v=0;v<s;v++)$=(R=85*(o[T+(v>>>2)]>>>6-((3&v)<<1)&3))==85*w?0:255,k[G+v]=$<<24|R<<16|R<<8|R;else if(S==4)for(v=0;v<s;v++)$=(R=17*(o[T+(v>>>1)]>>>4-((1&v)<<2)&15))==17*w?0:255,k[G+v]=$<<24|R<<16|R<<8|R;else if(S==8)for(v=0;v<s;v++)$=(R=o[T+v])==w?0:255,k[G+v]=$<<24|R<<16|R<<8|R;else if(S==16)for(v=0;v<s;v++)R=o[T+(v<<1)],$=U(o,T+(v<<1))==w?0:255,k[G+v]=$<<24|R<<16|R<<8|R}return c}function y(o,s,i,n){const h=t(o),f=Math.ceil(i*h/8),p=new Uint8Array((f+1+o.interlace)*n);return s=o.tabs.CgBI?e(s,p):b(s,p),o.interlace==0?s=l(s,o,0,i,n):o.interlace==1&&(s=(function(k,C){const S=C.width,U=C.height,A=t(C),F=A>>3,w=Math.ceil(S*A/8),m=new Uint8Array(U*w);let O=0;const B=[0,0,4,0,2,0,1],g=[0,4,0,2,0,1,0],E=[8,8,8,4,4,2,2],a=[8,8,4,4,2,2,1];let R=0;for(;R<7;){const v=E[R],$=a[R];let T=0,G=0,L=B[R];for(;L<U;)L+=v,G++;let D=g[R];for(;D<S;)D+=$,T++;const Y=Math.ceil(T*A/8);l(k,C,O,T,G);let W=0,P=B[R];for(;P<U;){let tt=g[R],lt=O+W*Y<<3;for(;tt<S;){var x;if(A==1&&(x=(x=k[lt>>3])>>7-(7&lt)&1,m[P*w+(tt>>3)]|=x<<7-((7&tt)<<0)),A==2&&(x=(x=k[lt>>3])>>6-(7&lt)&3,m[P*w+(tt>>2)]|=x<<6-((3&tt)<<1)),A==4&&(x=(x=k[lt>>3])>>4-(7&lt)&15,m[P*w+(tt>>1)]|=x<<4-((1&tt)<<2)),A>=8){const et=P*w+tt*F;for(let rt=0;rt<F;rt++)m[et+rt]=k[(lt>>3)+rt]}lt+=A,tt+=$}W++,P+=v}T*G!=0&&(O+=G*(1+Y)),R+=1}return m})(s,o)),s}function b(o,s){return e(new Uint8Array(o.buffer,2,o.length-6),s)}var e=(function(){const o={H:{}};return o.H.N=function(s,i){const n=Uint8Array;let h,f,p=0,c=0,k=0,C=0,S=0,U=0,A=0,F=0,w=0;if(s[0]==3&&s[1]==0)return i||new n(0);const m=o.H,O=m.b,B=m.e,g=m.R,E=m.n,a=m.A,R=m.Z,x=m.m,v=i==null;for(v&&(i=new n(s.length>>>2<<5));p==0;)if(p=O(s,w,1),c=O(s,w+1,2),w+=3,c!=0){if(v&&(i=o.H.W(i,F+(1<<17))),c==1&&(h=x.J,f=x.h,U=511,A=31),c==2){k=B(s,w,5)+257,C=B(s,w+5,5)+1,S=B(s,w+10,4)+4,w+=14;let T=1;for(var $=0;$<38;$+=2)x.Q[$]=0,x.Q[$+1]=0;for($=0;$<S;$++){const D=B(s,w+3*$,3);x.Q[1+(x.X[$]<<1)]=D,D>T&&(T=D)}w+=3*S,E(x.Q,T),a(x.Q,T,x.u),h=x.w,f=x.d,w=g(x.u,(1<<T)-1,k+C,s,w,x.v);const G=m.V(x.v,0,k,x.C);U=(1<<G)-1;const L=m.V(x.v,k,C,x.D);A=(1<<L)-1,E(x.C,G),a(x.C,G,h),E(x.D,L),a(x.D,L,f)}for(;;){const T=h[R(s,w)&U];w+=15&T;const G=T>>>4;if(!(G>>>8))i[F++]=G;else{if(G==256)break;{let L=F+G-254;if(G>264){const tt=x.q[G-257];L=F+(tt>>>3)+B(s,w,7&tt),w+=7&tt}const D=f[R(s,w)&A];w+=15&D;const Y=D>>>4,W=x.c[Y],P=(W>>>4)+O(s,w,15&W);for(w+=15&W;F<L;)i[F]=i[F++-P],i[F]=i[F++-P],i[F]=i[F++-P],i[F]=i[F++-P];F=L}}}}else{(7&w)!=0&&(w+=8-(7&w));const T=4+(w>>>3),G=s[T-4]|s[T-3]<<8;v&&(i=o.H.W(i,F+G)),i.set(new n(s.buffer,s.byteOffset+T,G),F),w=T+G<<3,F+=G}return i.length==F?i:i.slice(0,F)},o.H.W=function(s,i){const n=s.length;if(i<=n)return s;const h=new Uint8Array(n<<1);return h.set(s,0),h},o.H.R=function(s,i,n,h,f,p){const c=o.H.e,k=o.H.Z;let C=0;for(;C<n;){const S=s[k(h,f)&i];f+=15&S;const U=S>>>4;if(U<=15)p[C]=U,C++;else{let A=0,F=0;U==16?(F=3+c(h,f,2),f+=2,A=p[C-1]):U==17?(F=3+c(h,f,3),f+=3):U==18&&(F=11+c(h,f,7),f+=7);const w=C+F;for(;C<w;)p[C]=A,C++}}return f},o.H.V=function(s,i,n,h){let f=0,p=0;const c=h.length>>>1;for(;p<n;){const k=s[p+i];h[p<<1]=0,h[1+(p<<1)]=k,k>f&&(f=k),p++}for(;p<c;)h[p<<1]=0,h[1+(p<<1)]=0,p++;return f},o.H.n=function(s,i){const n=o.H.m,h=s.length;let f,p,c,k;const C=n.j;for(var S=0;S<=i;S++)C[S]=0;for(S=1;S<h;S+=2)C[s[S]]++;const U=n.K;for(f=0,C[0]=0,p=1;p<=i;p++)f=f+C[p-1]<<1,U[p]=f;for(c=0;c<h;c+=2)k=s[c+1],k!=0&&(s[c]=U[k],U[k]++)},o.H.A=function(s,i,n){const h=s.length,f=o.H.m.r;for(let p=0;p<h;p+=2)if(s[p+1]!=0){const c=p>>1,k=s[p+1],C=c<<4|k,S=i-k;let U=s[p]<<S;const A=U+(1<<S);for(;U!=A;)n[f[U]>>>15-i]=C,U++}},o.H.l=function(s,i){const n=o.H.m.r,h=15-i;for(let f=0;f<s.length;f+=2){const p=s[f]<<i-s[f+1];s[f]=n[p]>>>h}},o.H.M=function(s,i,n){n<<=7&i;const h=i>>>3;s[h]|=n,s[h+1]|=n>>>8},o.H.I=function(s,i,n){n<<=7&i;const h=i>>>3;s[h]|=n,s[h+1]|=n>>>8,s[h+2]|=n>>>16},o.H.e=function(s,i,n){return(s[i>>>3]|s[1+(i>>>3)]<<8)>>>(7&i)&(1<<n)-1},o.H.b=function(s,i,n){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)&(1<<n)-1},o.H.Z=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)},o.H.i=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16|s[3+(i>>>3)]<<24)>>>(7&i)},o.H.m=(function(){const s=Uint16Array,i=Uint32Array;return{K:new s(16),j:new s(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new s(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new i(32),J:new s(512),_:[],h:new s(32),$:[],w:new s(32768),C:[],v:[],d:new s(32768),D:[],u:new s(512),Q:[],r:new s(32768),s:new i(286),Y:new i(30),a:new i(19),t:new i(15e3),k:new s(65536),g:new s(32768)}})(),(function(){const s=o.H.m;for(var i=0;i<32768;i++){let h=i;h=(2863311530&h)>>>1|(1431655765&h)<<1,h=(3435973836&h)>>>2|(858993459&h)<<2,h=(4042322160&h)>>>4|(252645135&h)<<4,h=(4278255360&h)>>>8|(16711935&h)<<8,s.r[i]=(h>>>16|h<<16)>>>17}function n(h,f,p){for(;f--!=0;)h.push(0,p)}for(i=0;i<32;i++)s.q[i]=s.S[i]<<3|s.T[i],s.c[i]=s.p[i]<<4|s.z[i];n(s._,144,8),n(s._,112,9),n(s._,24,7),n(s._,8,8),o.H.n(s._,9),o.H.A(s._,9,s.J),o.H.l(s._,9),n(s.$,32,5),o.H.n(s.$,5),o.H.A(s.$,5,s.h),o.H.l(s.$,5),n(s.Q,19,0),n(s.C,286,0),n(s.D,30,0),n(s.v,320,0)})(),o.H.N})();function t(o){return[1,null,3,1,2,null,4][o.ctype]*o.depth}function l(o,s,i,n,h){let f=t(s);const p=Math.ceil(n*f/8);let c,k;f=Math.ceil(f/8);let C=o[i],S=0;if(C>1&&(o[i]=[0,0,1][C-2]),C==3)for(S=f;S<p;S++)o[S+1]=o[S+1]+(o[S+1-f]>>>1)&255;for(let U=0;U<h;U++)if(c=i+U*p,k=c+U+1,C=o[k-1],S=0,C==0)for(;S<p;S++)o[c+S]=o[k+S];else if(C==1){for(;S<f;S++)o[c+S]=o[k+S];for(;S<p;S++)o[c+S]=o[k+S]+o[c+S-f]}else if(C==2)for(;S<p;S++)o[c+S]=o[k+S]+o[c+S-p];else if(C==3){for(;S<f;S++)o[c+S]=o[k+S]+(o[c+S-p]>>>1);for(;S<p;S++)o[c+S]=o[k+S]+(o[c+S-p]+o[c+S-f]>>>1)}else{for(;S<f;S++)o[c+S]=o[k+S]+r(0,o[c+S-p],0);for(;S<p;S++)o[c+S]=o[k+S]+r(o[c+S-f],o[c+S-p],o[c+S-f-p])}return o}function r(o,s,i){const n=o+s-i,h=n-o,f=n-s,p=n-i;return h*h<=f*f&&h*h<=p*p?o:f*f<=p*p?s:i}function d(o,s,i){i.width=j.readUint(o,s),s+=4,i.height=j.readUint(o,s),s+=4,i.depth=o[s],s++,i.ctype=o[s],s++,i.compress=o[s],s++,i.filter=o[s],s++,i.interlace=o[s],s++}function _(o,s,i,n,h,f,p,c,k){const C=Math.min(s,h),S=Math.min(i,f);let U=0,A=0;for(let R=0;R<S;R++)for(let x=0;x<C;x++)if(p>=0&&c>=0?(U=R*s+x<<2,A=(c+R)*h+p+x<<2):(U=(-c+R)*s-p+x<<2,A=R*h+x<<2),k==0)n[A]=o[U],n[A+1]=o[U+1],n[A+2]=o[U+2],n[A+3]=o[U+3];else if(k==1){var F=o[U+3]*.00392156862745098,w=o[U]*F,m=o[U+1]*F,O=o[U+2]*F,B=n[A+3]*(1/255),g=n[A]*B,E=n[A+1]*B,a=n[A+2]*B;const v=1-F,$=F+B*v,T=$==0?0:1/$;n[A+3]=255*$,n[A+0]=(w+g*v)*T,n[A+1]=(m+E*v)*T,n[A+2]=(O+a*v)*T}else if(k==2)F=o[U+3],w=o[U],m=o[U+1],O=o[U+2],B=n[A+3],g=n[A],E=n[A+1],a=n[A+2],F==B&&w==g&&m==E&&O==a?(n[A]=0,n[A+1]=0,n[A+2]=0,n[A+3]=0):(n[A]=w,n[A+1]=m,n[A+2]=O,n[A+3]=F);else if(k==3){if(F=o[U+3],w=o[U],m=o[U+1],O=o[U+2],B=n[A+3],g=n[A],E=n[A+1],a=n[A+2],F==B&&w==g&&m==E&&O==a)continue;if(F<220&&B>20)return!1}return!0}return{decode:function(s){const i=new Uint8Array(s);let n=8;const h=j,f=h.readUshort,p=h.readUint,c={tabs:{},frames:[]},k=new Uint8Array(i.length);let C,S=0,U=0;const A=[137,80,78,71,13,10,26,10];for(var F=0;F<8;F++)if(i[F]!=A[F])throw"The input is not a PNG file!";for(;n<i.length;){const R=h.readUint(i,n);n+=4;const x=h.readASCII(i,n,4);if(n+=4,x=="IHDR")d(i,n,c);else if(x=="iCCP"){for(var w=n;i[w]!=0;)w++;h.readASCII(i,n,w-n),i[w+1];const v=i.slice(w+2,n+R);let $=null;try{$=b(v)}catch{$=e(v)}c.tabs[x]=$}else if(x=="CgBI")c.tabs[x]=i.slice(n,n+4);else if(x=="IDAT"){for(F=0;F<R;F++)k[S+F]=i[n+F];S+=R}else if(x=="acTL")c.tabs[x]={num_frames:p(i,n),num_plays:p(i,n+4)},C=new Uint8Array(i.length);else if(x=="fcTL"){U!=0&&((a=c.frames[c.frames.length-1]).data=y(c,C.slice(0,U),a.rect.width,a.rect.height),U=0);const v={x:p(i,n+12),y:p(i,n+16),width:p(i,n+4),height:p(i,n+8)};let $=f(i,n+22);$=f(i,n+20)/($==0?100:$);const T={rect:v,delay:Math.round(1e3*$),dispose:i[n+24],blend:i[n+25]};c.frames.push(T)}else if(x=="fdAT"){for(F=0;F<R-4;F++)C[U+F]=i[n+F+4];U+=R-4}else if(x=="pHYs")c.tabs[x]=[h.readUint(i,n),h.readUint(i,n+4),i[n+8]];else if(x=="cHRM")for(c.tabs[x]=[],F=0;F<8;F++)c.tabs[x].push(h.readUint(i,n+4*F));else if(x=="tEXt"||x=="zTXt"){c.tabs[x]==null&&(c.tabs[x]={});var m=h.nextZero(i,n),O=h.readASCII(i,n,m-n),B=n+R-m-1;if(x=="tEXt")E=h.readASCII(i,m+1,B);else{var g=b(i.slice(m+2,m+2+B));E=h.readUTF8(g,0,g.length)}c.tabs[x][O]=E}else if(x=="iTXt"){c.tabs[x]==null&&(c.tabs[x]={}),m=0,w=n,m=h.nextZero(i,w),O=h.readASCII(i,w,m-w);const v=i[w=m+1];var E;i[w+1],w+=2,m=h.nextZero(i,w),h.readASCII(i,w,m-w),w=m+1,m=h.nextZero(i,w),h.readUTF8(i,w,m-w),B=R-((w=m+1)-n),v==0?E=h.readUTF8(i,w,B):(g=b(i.slice(w,w+B)),E=h.readUTF8(g,0,g.length)),c.tabs[x][O]=E}else if(x=="PLTE")c.tabs[x]=h.readBytes(i,n,R);else if(x=="hIST"){const v=c.tabs.PLTE.length/3;for(c.tabs[x]=[],F=0;F<v;F++)c.tabs[x].push(f(i,n+2*F))}else if(x=="tRNS")c.ctype==3?c.tabs[x]=h.readBytes(i,n,R):c.ctype==0?c.tabs[x]=f(i,n):c.ctype==2&&(c.tabs[x]=[f(i,n),f(i,n+2),f(i,n+4)]);else if(x=="gAMA")c.tabs[x]=h.readUint(i,n)/1e5;else if(x=="sRGB")c.tabs[x]=i[n];else if(x=="bKGD")c.ctype==0||c.ctype==4?c.tabs[x]=[f(i,n)]:c.ctype==2||c.ctype==6?c.tabs[x]=[f(i,n),f(i,n+2),f(i,n+4)]:c.ctype==3&&(c.tabs[x]=i[n]);else if(x=="IEND")break;n+=R,h.readUint(i,n),n+=4}var a;return U!=0&&((a=c.frames[c.frames.length-1]).data=y(c,C.slice(0,U),a.rect.width,a.rect.height)),c.data=y(c,k,c.width,c.height),delete c.compress,delete c.interlace,delete c.filter,c},toRGBA8:function(s){const i=s.width,n=s.height;if(s.tabs.acTL==null)return[M(s.data,i,n,s).buffer];const h=[];s.frames[0].data==null&&(s.frames[0].data=s.data);const f=i*n*4,p=new Uint8Array(f),c=new Uint8Array(f),k=new Uint8Array(f);for(let S=0;S<s.frames.length;S++){const U=s.frames[S],A=U.rect.x,F=U.rect.y,w=U.rect.width,m=U.rect.height,O=M(U.data,w,m,s);if(S!=0)for(var C=0;C<f;C++)k[C]=p[C];if(U.blend==0?_(O,w,m,p,i,n,A,F,0):U.blend==1&&_(O,w,m,p,i,n,A,F,1),h.push(p.buffer.slice(0)),U.dispose!=0){if(U.dispose==1)_(c,w,m,p,i,n,A,F,0);else if(U.dispose==2)for(C=0;C<f;C++)p[C]=k[C]}}return h},_paeth:r,_copyTile:_,_bin:j}})();(function(){const{_copyTile:j}=Ct,{_bin:M}=Ct,y=Ct._paeth;var b={table:(function(){const w=new Uint32Array(256);for(let m=0;m<256;m++){let O=m;for(let B=0;B<8;B++)1&O?O=3988292384^O>>>1:O>>>=1;w[m]=O}return w})(),update(w,m,O,B){for(let g=0;g<B;g++)w=b.table[255&(w^m[O+g])]^w>>>8;return w},crc:(w,m,O)=>4294967295^b.update(4294967295,w,m,O)};function e(w,m,O,B){m[O]+=w[0]*B>>4,m[O+1]+=w[1]*B>>4,m[O+2]+=w[2]*B>>4,m[O+3]+=w[3]*B>>4}function t(w){return Math.max(0,Math.min(255,w))}function l(w,m){const O=w[0]-m[0],B=w[1]-m[1],g=w[2]-m[2],E=w[3]-m[3];return O*O+B*B+g*g+E*E}function r(w,m,O,B,g,E,a){a==null&&(a=1);const R=B.length,x=[];for(var v=0;v<R;v++){const P=B[v];x.push([P>>>0&255,P>>>8&255,P>>>16&255,P>>>24&255])}for(v=0;v<R;v++){let P=4294967295;for(var $=0,T=0;T<R;T++){var G=l(x[v],x[T]);T!=v&&G<P&&(P=G,$=T)}}const L=new Uint32Array(g.buffer),D=new Int16Array(m*O*4),Y=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(v=0;v<Y.length;v++)Y[v]=255*((Y[v]+.5)/16-.5);for(let P=0;P<O;P++)for(let tt=0;tt<m;tt++){var W;v=4*(P*m+tt),a!=2?W=[t(w[v]+D[v]),t(w[v+1]+D[v+1]),t(w[v+2]+D[v+2]),t(w[v+3]+D[v+3])]:(G=Y[4*(3&P)+(3&tt)],W=[t(w[v]+G),t(w[v+1]+G),t(w[v+2]+G),t(w[v+3]+G)]),$=0;let lt=16777215;for(T=0;T<R;T++){const st=l(W,x[T]);st<lt&&(lt=st,$=T)}const et=x[$],rt=[W[0]-et[0],W[1]-et[1],W[2]-et[2],W[3]-et[3]];a==1&&(tt!=m-1&&e(rt,D,v+4,7),P!=O-1&&(tt!=0&&e(rt,D,v+4*m-4,3),e(rt,D,v+4*m,5),tt!=m-1&&e(rt,D,v+4*m+4,1))),E[v>>2]=$,L[v>>2]=B[$]}}function d(w,m,O,B,g){g==null&&(g={});const{crc:E}=b,a=M.writeUint,R=M.writeUshort,x=M.writeASCII;let v=8;const $=w.frames.length>1;let T,G=!1,L=33+($?20:0);if(g.sRGB!=null&&(L+=13),g.pHYs!=null&&(L+=21),g.iCCP!=null&&(T=pako.deflate(g.iCCP),L+=21+T.length+4),w.ctype==3){for(var D=w.plte.length,Y=0;Y<D;Y++)w.plte[Y]>>>24!=255&&(G=!0);L+=8+3*D+4+(G?8+1*D+4:0)}for(var W=0;W<w.frames.length;W++)$&&(L+=38),L+=(et=w.frames[W]).cimg.length+12,W!=0&&(L+=4);L+=12;const P=new Uint8Array(L),tt=[137,80,78,71,13,10,26,10];for(Y=0;Y<8;Y++)P[Y]=tt[Y];if(a(P,v,13),v+=4,x(P,v,"IHDR"),v+=4,a(P,v,m),v+=4,a(P,v,O),v+=4,P[v]=w.depth,v++,P[v]=w.ctype,v++,P[v]=0,v++,P[v]=0,v++,P[v]=0,v++,a(P,v,E(P,v-17,17)),v+=4,g.sRGB!=null&&(a(P,v,1),v+=4,x(P,v,"sRGB"),v+=4,P[v]=g.sRGB,v++,a(P,v,E(P,v-5,5)),v+=4),g.iCCP!=null){const rt=13+T.length;a(P,v,rt),v+=4,x(P,v,"iCCP"),v+=4,x(P,v,"ICC profile"),v+=11,v+=2,P.set(T,v),v+=T.length,a(P,v,E(P,v-(rt+4),rt+4)),v+=4}if(g.pHYs!=null&&(a(P,v,9),v+=4,x(P,v,"pHYs"),v+=4,a(P,v,g.pHYs[0]),v+=4,a(P,v,g.pHYs[1]),v+=4,P[v]=g.pHYs[2],v++,a(P,v,E(P,v-13,13)),v+=4),$&&(a(P,v,8),v+=4,x(P,v,"acTL"),v+=4,a(P,v,w.frames.length),v+=4,a(P,v,g.loop!=null?g.loop:0),v+=4,a(P,v,E(P,v-12,12)),v+=4),w.ctype==3){for(a(P,v,3*(D=w.plte.length)),v+=4,x(P,v,"PLTE"),v+=4,Y=0;Y<D;Y++){const rt=3*Y,st=w.plte[Y],ot=255&st,ct=st>>>8&255,gt=st>>>16&255;P[v+rt+0]=ot,P[v+rt+1]=ct,P[v+rt+2]=gt}if(v+=3*D,a(P,v,E(P,v-3*D-4,3*D+4)),v+=4,G){for(a(P,v,D),v+=4,x(P,v,"tRNS"),v+=4,Y=0;Y<D;Y++)P[v+Y]=w.plte[Y]>>>24&255;v+=D,a(P,v,E(P,v-D-4,D+4)),v+=4}}let lt=0;for(W=0;W<w.frames.length;W++){var et=w.frames[W];$&&(a(P,v,26),v+=4,x(P,v,"fcTL"),v+=4,a(P,v,lt++),v+=4,a(P,v,et.rect.width),v+=4,a(P,v,et.rect.height),v+=4,a(P,v,et.rect.x),v+=4,a(P,v,et.rect.y),v+=4,R(P,v,B[W]),v+=2,R(P,v,1e3),v+=2,P[v]=et.dispose,v++,P[v]=et.blend,v++,a(P,v,E(P,v-30,30)),v+=4);const rt=et.cimg;a(P,v,(D=rt.length)+(W==0?0:4)),v+=4;const st=v;x(P,v,W==0?"IDAT":"fdAT"),v+=4,W!=0&&(a(P,v,lt++),v+=4),P.set(rt,v),v+=D,a(P,v,E(P,st,v-st)),v+=4}return a(P,v,0),v+=4,x(P,v,"IEND"),v+=4,a(P,v,E(P,v-4,4)),v+=4,P.buffer}function _(w,m,O){for(let B=0;B<w.frames.length;B++){const g=w.frames[B];g.rect.width;const E=g.rect.height,a=new Uint8Array(E*g.bpl+E);g.cimg=n(g.img,E,g.bpp,g.bpl,a,m,O)}}function o(w,m,O,B,g){const E=g[0],a=g[1],R=g[2],x=g[3],v=g[4],$=g[5];let T=6,G=8,L=255;for(var D=0;D<w.length;D++){const H=new Uint8Array(w[D]);for(var Y=H.length,W=0;W<Y;W+=4)L&=H[W+3]}const P=L!=255,tt=(function(I,z,N,K,Q,Z){const V=[];for(var J=0;J<I.length;J++){const pt=new Uint8Array(I[J]),dt=new Uint32Array(pt.buffer);var X;let _t=0,ut=0,bt=z,xt=N,kt=K?1:0;if(J!=0){const Nt=Z||K||J==1||V[J-2].dispose!=0?1:2;let Bt=0,Lt=1e9;for(let It=0;It<Nt;It++){var nt=new Uint8Array(I[J-1-It]);const Mt=new Uint32Array(I[J-1-It]);let wt=z,At=N,Tt=-1,Pt=-1;for(let Ot=0;Ot<N;Ot++)for(let Ut=0;Ut<z;Ut++)dt[it=Ot*z+Ut]!=Mt[it]&&(Ut<wt&&(wt=Ut),Ut>Tt&&(Tt=Ut),Ot<At&&(At=Ot),Ot>Pt&&(Pt=Ot));Tt==-1&&(wt=At=Tt=Pt=0),Q&&((1&wt)==1&&wt--,(1&At)==1&&At--);const te=(Tt-wt+1)*(Pt-At+1);te<Lt&&(Lt=te,Bt=It,_t=wt,ut=At,bt=Tt-wt+1,xt=Pt-At+1)}nt=new Uint8Array(I[J-1-Bt]),Bt==1&&(V[J-1].dispose=2),X=new Uint8Array(bt*xt*4),j(nt,z,N,X,bt,xt,-_t,-ut,0),kt=j(pt,z,N,X,bt,xt,-_t,-ut,3)?1:0,kt==1?i(pt,z,N,X,{x:_t,y:ut,width:bt,height:xt}):j(pt,z,N,X,bt,xt,-_t,-ut,0)}else X=pt.slice(0);V.push({rect:{x:_t,y:ut,width:bt,height:xt},img:X,blend:kt,dispose:0})}if(K)for(J=0;J<V.length;J++){if((mt=V[J]).blend==1)continue;const pt=mt.rect,dt=V[J-1].rect,_t=Math.min(pt.x,dt.x),ut=Math.min(pt.y,dt.y),bt={x:_t,y:ut,width:Math.max(pt.x+pt.width,dt.x+dt.width)-_t,height:Math.max(pt.y+pt.height,dt.y+dt.height)-ut};V[J-1].dispose=1,J-1!=0&&s(I,z,N,V,J-1,bt,Q),s(I,z,N,V,J,bt,Q)}let ft=0;if(I.length!=1)for(var it=0;it<V.length;it++){var mt;ft+=(mt=V[it]).rect.width*mt.rect.height}return V})(w,m,O,E,a,R),lt={},et=[],rt=[];if(B!=0){const H=[];for(W=0;W<tt.length;W++)H.push(tt[W].img.buffer);const I=(function(Q){let Z=0;for(var V=0;V<Q.length;V++)Z+=Q[V].byteLength;const J=new Uint8Array(Z);let X=0;for(V=0;V<Q.length;V++){const nt=new Uint8Array(Q[V]),ft=nt.length;for(let it=0;it<ft;it+=4){let mt=nt[it],pt=nt[it+1],dt=nt[it+2];const _t=nt[it+3];_t==0&&(mt=pt=dt=0),J[X+it]=mt,J[X+it+1]=pt,J[X+it+2]=dt,J[X+it+3]=_t}X+=ft}return J.buffer})(H),z=f(I,B);for(W=0;W<z.plte.length;W++)et.push(z.plte[W].est.rgba);let N=0;for(W=0;W<tt.length;W++){const K=(ot=tt[W]).img.length;var st=new Uint8Array(z.inds.buffer,N>>2,K>>2);rt.push(st);const Q=new Uint8Array(z.abuf,N,K);$&&r(ot.img,ot.rect.width,ot.rect.height,et,Q,st),ot.img.set(Q),N+=K}}else for(D=0;D<tt.length;D++){var ot=tt[D];const H=new Uint32Array(ot.img.buffer);var ct=ot.rect.width;for(Y=H.length,st=new Uint8Array(Y),rt.push(st),W=0;W<Y;W++){const I=H[W];if(W!=0&&I==H[W-1])st[W]=st[W-1];else if(W>ct&&I==H[W-ct])st[W]=st[W-ct];else{let z=lt[I];if(z==null&&(lt[I]=z=et.length,et.push(I),et.length>=300))break;st[W]=z}}}const gt=et.length;for(gt<=256&&v==0&&(G=gt<=2?1:gt<=4?2:gt<=16?4:8,G=Math.max(G,x)),D=0;D<tt.length;D++){(ot=tt[D]).rect.x,ot.rect.y,ct=ot.rect.width;const H=ot.rect.height;let I=ot.img;new Uint32Array(I.buffer);let z=4*ct,N=4;if(gt<=256&&v==0){z=Math.ceil(G*ct/8);var u=new Uint8Array(z*H);const K=rt[D];for(let Q=0;Q<H;Q++){W=Q*z;const Z=Q*ct;if(G==8)for(var q=0;q<ct;q++)u[W+q]=K[Z+q];else if(G==4)for(q=0;q<ct;q++)u[W+(q>>1)]|=K[Z+q]<<4-4*(1&q);else if(G==2)for(q=0;q<ct;q++)u[W+(q>>2)]|=K[Z+q]<<6-2*(3&q);else if(G==1)for(q=0;q<ct;q++)u[W+(q>>3)]|=K[Z+q]<<7-1*(7&q)}I=u,T=3,N=1}else if(P==0&&tt.length==1){u=new Uint8Array(ct*H*3);const K=ct*H;for(W=0;W<K;W++){const Q=3*W,Z=4*W;u[Q]=I[Z],u[Q+1]=I[Z+1],u[Q+2]=I[Z+2]}I=u,T=2,N=3,z=3*ct}ot.img=I,ot.bpl=z,ot.bpp=N}return{ctype:T,depth:G,plte:et,frames:tt}}function s(w,m,O,B,g,E,a){const R=Uint8Array,x=Uint32Array,v=new R(w[g-1]),$=new x(w[g-1]),T=g+1<w.length?new R(w[g+1]):null,G=new R(w[g]),L=new x(G.buffer);let D=m,Y=O,W=-1,P=-1;for(let lt=0;lt<E.height;lt++)for(let et=0;et<E.width;et++){const rt=E.x+et,st=E.y+lt,ot=st*m+rt,ct=L[ot];ct==0||B[g-1].dispose==0&&$[ot]==ct&&(T==null||T[4*ot+3]!=0)||(rt<D&&(D=rt),rt>W&&(W=rt),st<Y&&(Y=st),st>P&&(P=st))}W==-1&&(D=Y=W=P=0),a&&((1&D)==1&&D--,(1&Y)==1&&Y--),E={x:D,y:Y,width:W-D+1,height:P-Y+1};const tt=B[g];tt.rect=E,tt.blend=1,tt.img=new Uint8Array(E.width*E.height*4),B[g-1].dispose==0?(j(v,m,O,tt.img,E.width,E.height,-E.x,-E.y,0),i(G,m,O,tt.img,E)):j(G,m,O,tt.img,E.width,E.height,-E.x,-E.y,0)}function i(w,m,O,B,g){j(w,m,O,B,g.width,g.height,-g.x,-g.y,2)}function n(w,m,O,B,g,E,a){const R=[];let x,v=[0,1,2,3,4];E!=-1?v=[E]:(m*B>5e5||O==1)&&(v=[0]),a&&(x={level:0});const $=Ae;for(var T=0;T<v.length;T++){for(let D=0;D<m;D++)h(g,w,D,B,O,v[T]);R.push($.deflate(g,x))}let G,L=1e9;for(T=0;T<R.length;T++)R[T].length<L&&(G=T,L=R[T].length);return R[G]}function h(w,m,O,B,g,E){const a=O*B;let R=a+O;if(w[R]=E,R++,E==0)if(B<500)for(var x=0;x<B;x++)w[R+x]=m[a+x];else w.set(new Uint8Array(m.buffer,a,B),R);else if(E==1){for(x=0;x<g;x++)w[R+x]=m[a+x];for(x=g;x<B;x++)w[R+x]=m[a+x]-m[a+x-g]+256&255}else if(O==0){for(x=0;x<g;x++)w[R+x]=m[a+x];if(E==2)for(x=g;x<B;x++)w[R+x]=m[a+x];if(E==3)for(x=g;x<B;x++)w[R+x]=m[a+x]-(m[a+x-g]>>1)+256&255;if(E==4)for(x=g;x<B;x++)w[R+x]=m[a+x]-y(m[a+x-g],0,0)+256&255}else{if(E==2)for(x=0;x<B;x++)w[R+x]=m[a+x]+256-m[a+x-B]&255;if(E==3){for(x=0;x<g;x++)w[R+x]=m[a+x]+256-(m[a+x-B]>>1)&255;for(x=g;x<B;x++)w[R+x]=m[a+x]+256-(m[a+x-B]+m[a+x-g]>>1)&255}if(E==4){for(x=0;x<g;x++)w[R+x]=m[a+x]+256-y(0,m[a+x-B],0)&255;for(x=g;x<B;x++)w[R+x]=m[a+x]+256-y(m[a+x-g],m[a+x-B],m[a+x-g-B])&255}}}function f(w,m){const O=new Uint8Array(w),B=O.slice(0),g=new Uint32Array(B.buffer),E=p(B,m),a=E[0],R=E[1],x=O.length,v=new Uint8Array(x>>2);let $;if(O.length<2e7)for(var T=0;T<x;T+=4)$=c(a,G=O[T]*(1/255),L=O[T+1]*(1/255),D=O[T+2]*(1/255),Y=O[T+3]*(1/255)),v[T>>2]=$.ind,g[T>>2]=$.est.rgba;else for(T=0;T<x;T+=4){var G=O[T]*.00392156862745098,L=O[T+1]*(1/255),D=O[T+2]*(1/255),Y=O[T+3]*(1/255);for($=a;$.left;)$=k($.est,G,L,D,Y)<=0?$.left:$.right;v[T>>2]=$.ind,g[T>>2]=$.est.rgba}return{abuf:B.buffer,inds:v,plte:R}}function p(w,m,O){O==null&&(O=1e-4);const B=new Uint32Array(w.buffer),g={i0:0,i1:w.length,bst:null,est:null,tdst:0,left:null,right:null};g.bst=U(w,g.i0,g.i1),g.est=A(g.bst);const E=[g];for(;E.length<m;){let R=0,x=0;for(var a=0;a<E.length;a++)E[a].est.L>R&&(R=E[a].est.L,x=a);if(R<O)break;const v=E[x],$=C(w,B,v.i0,v.i1,v.est.e,v.est.eMq255);if(v.i0>=$||v.i1<=$){v.est.L=0;continue}const T={i0:v.i0,i1:$,bst:null,est:null,tdst:0,left:null,right:null};T.bst=U(w,T.i0,T.i1),T.est=A(T.bst);const G={i0:$,i1:v.i1,bst:null,est:null,tdst:0,left:null,right:null};for(G.bst={R:[],m:[],N:v.bst.N-T.bst.N},a=0;a<16;a++)G.bst.R[a]=v.bst.R[a]-T.bst.R[a];for(a=0;a<4;a++)G.bst.m[a]=v.bst.m[a]-T.bst.m[a];G.est=A(G.bst),v.left=T,v.right=G,E[x]=T,E.push(G)}for(E.sort(((R,x)=>x.bst.N-R.bst.N)),a=0;a<E.length;a++)E[a].ind=a;return[g,E]}function c(w,m,O,B,g){if(w.left==null)return w.tdst=(function(T,G,L,D,Y){const W=G-T[0],P=L-T[1],tt=D-T[2],lt=Y-T[3];return W*W+P*P+tt*tt+lt*lt})(w.est.q,m,O,B,g),w;const E=k(w.est,m,O,B,g);let a=w.left,R=w.right;E>0&&(a=w.right,R=w.left);const x=c(a,m,O,B,g);if(x.tdst<=E*E)return x;const v=c(R,m,O,B,g);return v.tdst<x.tdst?v:x}function k(w,m,O,B,g){const{e:E}=w;return E[0]*m+E[1]*O+E[2]*B+E[3]*g-w.eMq}function C(w,m,O,B,g,E){for(B-=4;O<B;){for(;S(w,O,g)<=E;)O+=4;for(;S(w,B,g)>E;)B-=4;if(O>=B)break;const a=m[O>>2];m[O>>2]=m[B>>2],m[B>>2]=a,O+=4,B-=4}for(;S(w,O,g)>E;)O-=4;return O+4}function S(w,m,O){return w[m]*O[0]+w[m+1]*O[1]+w[m+2]*O[2]+w[m+3]*O[3]}function U(w,m,O){const B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=[0,0,0,0],E=O-m>>2;for(let a=m;a<O;a+=4){const R=w[a]*.00392156862745098,x=w[a+1]*(1/255),v=w[a+2]*(1/255),$=w[a+3]*(1/255);g[0]+=R,g[1]+=x,g[2]+=v,g[3]+=$,B[0]+=R*R,B[1]+=R*x,B[2]+=R*v,B[3]+=R*$,B[5]+=x*x,B[6]+=x*v,B[7]+=x*$,B[10]+=v*v,B[11]+=v*$,B[15]+=$*$}return B[4]=B[1],B[8]=B[2],B[9]=B[6],B[12]=B[3],B[13]=B[7],B[14]=B[11],{R:B,m:g,N:E}}function A(w){const{R:m}=w,{m:O}=w,{N:B}=w,g=O[0],E=O[1],a=O[2],R=O[3],x=B==0?0:1/B,v=[m[0]-g*g*x,m[1]-g*E*x,m[2]-g*a*x,m[3]-g*R*x,m[4]-E*g*x,m[5]-E*E*x,m[6]-E*a*x,m[7]-E*R*x,m[8]-a*g*x,m[9]-a*E*x,m[10]-a*a*x,m[11]-a*R*x,m[12]-R*g*x,m[13]-R*E*x,m[14]-R*a*x,m[15]-R*R*x],$=v,T=F;let G=[Math.random(),Math.random(),Math.random(),Math.random()],L=0,D=0;if(B!=0)for(let W=0;W<16&&(G=T.multVec($,G),D=Math.sqrt(T.dot(G,G)),G=T.sml(1/D,G),!(W!=0&&Math.abs(D-L)<1e-9));W++)L=D;const Y=[g*x,E*x,a*x,R*x];return{Cov:v,q:Y,e:G,L,eMq255:T.dot(T.sml(255,Y),G),eMq:T.dot(G,Y),rgba:(Math.round(255*Y[3])<<24|Math.round(255*Y[2])<<16|Math.round(255*Y[1])<<8|Math.round(255*Y[0])<<0)>>>0}}var F={multVec:(w,m)=>[w[0]*m[0]+w[1]*m[1]+w[2]*m[2]+w[3]*m[3],w[4]*m[0]+w[5]*m[1]+w[6]*m[2]+w[7]*m[3],w[8]*m[0]+w[9]*m[1]+w[10]*m[2]+w[11]*m[3],w[12]*m[0]+w[13]*m[1]+w[14]*m[2]+w[15]*m[3]],dot:(w,m)=>w[0]*m[0]+w[1]*m[1]+w[2]*m[2]+w[3]*m[3],sml:(w,m)=>[w*m[0],w*m[1],w*m[2],w*m[3]]};Ct.encode=function(m,O,B,g,E,a,R){g==null&&(g=0),R==null&&(R=!1);const x=o(m,O,B,g,[!1,!1,!1,0,R,!1]);return _(x,-1),d(x,O,B,E,a)},Ct.encodeLL=function(m,O,B,g,E,a,R,x){const v={ctype:0+(g==1?0:2)+(E==0?0:4),depth:a,frames:[]},$=(g+E)*a,T=$*O;for(let G=0;G<m.length;G++)v.frames.push({rect:{x:0,y:0,width:O,height:B},img:new Uint8Array(m[G]),blend:0,dispose:1,bpp:Math.ceil($/8),bpl:Math.ceil(T/8)});return _(v,0,!0),d(v,O,B,R,x)},Ct.encode.compress=o,Ct.encode.dither=r,Ct.quantize=f,Ct.quantize.getKDtree=p,Ct.quantize.getNearest=c})();const ae={toArrayBuffer(j,M){const y=j.width,b=j.height,e=y<<2,t=j.getContext("2d").getImageData(0,0,y,b),l=new Uint32Array(t.data.buffer),r=(32*y+31)/32<<2,d=r*b,_=122+d,o=new ArrayBuffer(_),s=new DataView(o),i=1<<20;let n,h,f,p,c=i,k=0,C=0,S=0;function U(w){s.setUint16(C,w,!0),C+=2}function A(w){s.setUint32(C,w,!0),C+=4}function F(w){C+=w}U(19778),A(_),F(4),A(122),A(108),A(y),A(-b>>>0),U(1),U(32),A(3),A(d),A(2835),A(2835),F(8),A(16711680),A(65280),A(255),A(4278190080),A(1466527264),(function w(){for(;k<b&&c>0;){for(p=122+k*r,n=0;n<e;)c--,h=l[S++],f=h>>>24,s.setUint32(p+n,h<<8|f),n+=4;k++}S<l.length?(c=i,setTimeout(w,ae._dly)):M(o)})()},toBlob(j,M){this.toArrayBuffer(j,(y=>{M(new Blob([y],{type:"image/bmp"}))}))},_dly:9};var yt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},xe={[yt.CHROME]:16384,[yt.FIREFOX]:11180,[yt.DESKTOP_SAFARI]:16384,[yt.IE]:8192,[yt.IOS]:4096,[yt.ETC]:8192};const Xt=typeof window<"u",se=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Gt=Xt&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Ce=(Xt||se)&&(Gt&&Gt.getOriginalSymbol(window,"File")||typeof File<"u"&&File),oe=(Xt||se)&&(Gt&&Gt.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Jt(j,M,y=Date.now()){return new Promise((b=>{const e=j.split(","),t=e[0].match(/:(.*?);/)[1],l=globalThis.atob(e[1]);let r=l.length;const d=new Uint8Array(r);for(;r--;)d[r]=l.charCodeAt(r);const _=new Blob([d],{type:t});_.name=M,_.lastModified=y,b(_)}))}function le(j){return new Promise(((M,y)=>{const b=new oe;b.onload=()=>M(b.result),b.onerror=e=>y(e),b.readAsDataURL(j)}))}function fe(j){return new Promise(((M,y)=>{const b=new Image;b.onload=()=>M(b),b.onerror=e=>y(e),b.src=j}))}function Rt(){if(Rt.cachedResult!==void 0)return Rt.cachedResult;let j=yt.ETC;const{userAgent:M}=navigator;return/Chrom(e|ium)/i.test(M)?j=yt.CHROME:/iP(ad|od|hone)/i.test(M)&&/WebKit/i.test(M)?j=yt.IOS:/Safari/i.test(M)?j=yt.DESKTOP_SAFARI:/Firefox/i.test(M)?j=yt.FIREFOX:(/MSIE/i.test(M)||document.documentMode)&&(j=yt.IE),Rt.cachedResult=j,Rt.cachedResult}function ue(j,M){const y=Rt(),b=xe[y];let e=j,t=M,l=e*t;const r=e>t?t/e:e/t;for(;l>b*b;){const d=(b+e)/2,_=(b+t)/2;d<_?(t=_,e=_*r):(t=d*r,e=d),l=e*t}return{width:e,height:t}}function Kt(j,M){let y,b;try{if(y=new OffscreenCanvas(j,M),b=y.getContext("2d"),b===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{y=document.createElement("canvas"),b=y.getContext("2d")}return y.width=j,y.height=M,[y,b]}function ce(j,M){const{width:y,height:b}=ue(j.width,j.height),[e,t]=Kt(y,b);return M&&/jpe?g/.test(M)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(j,0,0,e.width,e.height),e}function Wt(){return Wt.cachedResult!==void 0||(Wt.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Wt.cachedResult}function $t(j,M={}){return new Promise((function(y,b){let e,t;var l=function(){try{return t=ce(e,M.fileType||j.type),y([e,t])}catch(d){return b(d)}},r=function(d){try{var _=function(o){try{throw o}catch(s){return b(s)}};try{let o;return le(j).then((function(s){try{return o=s,fe(o).then((function(i){try{return e=i,(function(){try{return l()}catch(n){return b(n)}})()}catch(n){return _(n)}}),_)}catch(i){return _(i)}}),_)}catch(o){_(o)}}catch(o){return b(o)}};try{if(Wt()||[yt.DESKTOP_SAFARI,yt.MOBILE_SAFARI].includes(Rt()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(j).then((function(d){try{return e=d,l()}catch{return r()}}),r)}catch{r()}}))}function qt(j,M,y,b,e=1){return new Promise((function(t,l){let r;if(M==="image/png"){let _,o,s;return _=j.getContext("2d"),{data:o}=_.getImageData(0,0,j.width,j.height),s=Ct.encode([o.buffer],j.width,j.height,4096*e),r=new Blob([s],{type:M}),r.name=y,r.lastModified=b,d.call(this)}{let _=function(){return d.call(this)};if(M==="image/bmp")return new Promise((o=>ae.toBlob(j,o))).then((function(o){try{return r=o,r.name=y,r.lastModified=b,_.call(this)}catch(s){return l(s)}}).bind(this),l);{let o=function(){return _.call(this)};if(typeof OffscreenCanvas=="function"&&j instanceof OffscreenCanvas)return j.convertToBlob({type:M,quality:e}).then((function(s){try{return r=s,r.name=y,r.lastModified=b,o.call(this)}catch(i){return l(i)}}).bind(this),l);{let s;return s=j.toDataURL(M,e),Jt(s,y,b).then((function(i){try{return r=i,o.call(this)}catch(n){return l(n)}}).bind(this),l)}}}function d(){return t(r)}}))}function Et(j){j.width=0,j.height=0}function Dt(){return new Promise((function(j,M){let y,b,e,t;return Dt.cachedResult!==void 0?j(Dt.cachedResult):Jt("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(l){try{return y=l,$t(y).then((function(r){try{return b=r[1],qt(b,y.type,y.name,y.lastModified).then((function(d){try{return e=d,Et(b),$t(e).then((function(_){try{return t=_[0],Dt.cachedResult=t.width===1&&t.height===2,j(Dt.cachedResult)}catch(o){return M(o)}}),M)}catch(_){return M(_)}}),M)}catch(d){return M(d)}}),M)}catch(r){return M(r)}}),M)}))}function he(j){return new Promise(((M,y)=>{const b=new oe;b.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return M(-2);const l=t.byteLength;let r=2;for(;r<l;){if(t.getUint16(r+2,!1)<=8)return M(-1);const d=t.getUint16(r,!1);if(r+=2,d==65505){if(t.getUint32(r+=2,!1)!=1165519206)return M(-1);const _=t.getUint16(r+=6,!1)==18761;r+=t.getUint32(r+4,_);const o=t.getUint16(r,_);r+=2;for(let s=0;s<o;s++)if(t.getUint16(r+12*s,_)==274)return M(t.getUint16(r+12*s+8,_))}else{if((65280&d)!=65280)break;r+=t.getUint16(r,!1)}}return M(-1)},b.onerror=e=>y(e),b.readAsArrayBuffer(j)}))}function de(j,M){const{width:y}=j,{height:b}=j,{maxWidthOrHeight:e}=M;let t,l=j;return isFinite(e)&&(y>e||b>e)&&([l,t]=Kt(y,b),y>b?(l.width=e,l.height=b/y*e):(l.width=y/b*e,l.height=e),t.drawImage(j,0,0,l.width,l.height),Et(j)),l}function pe(j,M){const{width:y}=j,{height:b}=j,[e,t]=Kt(y,b);switch(M>4&&M<9?(e.width=b,e.height=y):(e.width=y,e.height=b),M){case 2:t.transform(-1,0,0,1,y,0);break;case 3:t.transform(-1,0,0,-1,y,b);break;case 4:t.transform(1,0,0,-1,0,b);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,b,0);break;case 7:t.transform(0,-1,-1,0,b,y);break;case 8:t.transform(0,-1,1,0,0,y)}return t.drawImage(j,0,0,y,b),Et(j),e}function ee(j,M,y=0){return new Promise((function(b,e){let t,l,r,d,_,o,s,i,n,h,f,p,c,k,C,S,U,A,F,w;function m(B=5){if(M.signal&&M.signal.aborted)throw M.signal.reason;t+=B,M.onProgress(Math.min(t,100))}function O(B){if(M.signal&&M.signal.aborted)throw M.signal.reason;t=Math.min(Math.max(B,t),100),M.onProgress(t)}return t=y,l=M.maxIteration||10,r=1024*M.maxSizeMB*1024,m(),$t(j,M).then((function(B){try{return[,d]=B,m(),_=de(d,M),m(),new Promise((function(g,E){var a;if(!(a=M.exifOrientation))return he(j).then((function(x){try{return a=x,R.call(this)}catch(v){return E(v)}}).bind(this),E);function R(){return g(a)}return R.call(this)})).then((function(g){try{return o=g,m(),Dt().then((function(E){try{return s=E?_:pe(_,o),m(),i=M.initialQuality||1,n=M.fileType||j.type,qt(s,n,j.name,j.lastModified,i).then((function(a){try{{let x=function(){if(l--&&(C>r||C>c)){let $,T;return $=w?.95*F.width:F.width,T=w?.95*F.height:F.height,[U,A]=Kt($,T),A.drawImage(F,0,0,$,T),i*=n==="image/png"?.85:.95,qt(U,n,j.name,j.lastModified,i).then((function(G){try{return S=G,Et(F),F=U,C=S.size,O(Math.min(99,Math.floor((k-C)/(k-r)*100))),x}catch(L){return e(L)}}),e)}return[1]},v=function(){return Et(F),Et(U),Et(_),Et(s),Et(d),O(100),b(S)};if(h=a,m(),f=h.size>r,p=h.size>j.size,!f&&!p)return O(100),b(h);var R;return c=j.size,k=h.size,C=k,F=s,w=!M.alwaysKeepResolution&&f,(R=(function($){for(;$;){if($.then)return void $.then(R,e);try{if($.pop){if($.length)return $.pop()?v.call(this):$;$=x}else $=$.call(this)}catch(T){return e(T)}}}).bind(this))(x)}}catch(x){return e(x)}}).bind(this),e)}catch(a){return e(a)}}).bind(this),e)}catch(E){return e(E)}}).bind(this),e)}catch(g){return e(g)}}).bind(this),e)}))}const ze=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Yt;function Se(j,M){return new Promise(((y,b)=>{Yt||(Yt=(function(l){const r=[];return r.push(l),URL.createObjectURL(new Blob(r))})(ze));const e=new Worker(Yt);e.addEventListener("message",(function(l){if(M.signal&&M.signal.aborted)e.terminate();else if(l.data.progress===void 0){if(l.data.error)return b(new Error(l.data.error)),void e.terminate();y(l.data.file),e.terminate()}else M.onProgress(l.data.progress)})),e.addEventListener("error",b),M.signal&&M.signal.addEventListener("abort",(()=>{b(M.signal.reason),e.terminate()})),e.postMessage({file:j,imageCompressionLibUrl:M.libURL,options:{...M,onProgress:void 0,signal:void 0}})}))}function vt(j,M){return new Promise((function(y,b){let e,t,l,r,d,_;if(e={...M},l=0,{onProgress:r}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,d=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=n=>{l=n,typeof r=="function"&&r(l)},!(j instanceof Blob||j instanceof Ce))return b(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(j.type))return b(new Error("The file given is not an image"));if(_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!d||typeof Worker!="function"||_)return ee(j,e).then((function(n){try{return t=n,i.call(this)}catch(h){return b(h)}}).bind(this),b);var o=(function(){try{return i.call(this)}catch(n){return b(n)}}).bind(this),s=function(n){try{return ee(j,e).then((function(h){try{return t=h,o()}catch(f){return b(f)}}),b)}catch(h){return b(h)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Se(j,e).then((function(n){try{return t=n,o()}catch{return s()}}),s)}catch{s()}function i(){try{t.name=j.name,t.lastModified=j.lastModified}catch{}try{e.preserveExif&&j.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===j.type)&&(t=ie(j,t))}catch{}return y(t)}}))}vt.getDataUrlFromFile=le,vt.getFilefromDataUrl=Jt,vt.loadImage=fe,vt.drawImageInCanvas=ce,vt.drawFileInCanvas=$t,vt.canvasToFile=qt,vt.getExifOrientation=he,vt.handleMaxWidthOrHeight=de,vt.followExifOrientation=pe,vt.cleanupCanvasMemory=Et,vt.isAutoOrientationInBrowser=Dt,vt.approximateBelowMaximumCanvasSizeOfBrowser=ue,vt.copyExifWithoutOrientation=ie,vt.getBrowserName=Rt,vt.version="2.0.2";var jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ee(j){return j&&j.__esModule&&Object.prototype.hasOwnProperty.call(j,"default")?j.default:j}function Zt(j){throw new Error('Could not dynamically require "'+j+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Vt={exports:{}};var re;function Ie(){return re||(re=1,(function(j,M){(function(y){j.exports=y()})(function(){return(function y(b,e,t){function l(_,o){if(!e[_]){if(!b[_]){var s=typeof Zt=="function"&&Zt;if(!o&&s)return s(_,!0);if(r)return r(_,!0);var i=new Error("Cannot find module '"+_+"'");throw i.code="MODULE_NOT_FOUND",i}var n=e[_]={exports:{}};b[_][0].call(n.exports,function(h){var f=b[_][1][h];return l(f||h)},n,n.exports,y,b,e,t)}return e[_].exports}for(var r=typeof Zt=="function"&&Zt,d=0;d<t.length;d++)l(t[d]);return l})({1:[function(y,b,e){var t=y("./utils"),l=y("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(d){for(var _,o,s,i,n,h,f,p=[],c=0,k=d.length,C=k,S=t.getTypeOf(d)!=="string";c<d.length;)C=k-c,s=S?(_=d[c++],o=c<k?d[c++]:0,c<k?d[c++]:0):(_=d.charCodeAt(c++),o=c<k?d.charCodeAt(c++):0,c<k?d.charCodeAt(c++):0),i=_>>2,n=(3&_)<<4|o>>4,h=1<C?(15&o)<<2|s>>6:64,f=2<C?63&s:64,p.push(r.charAt(i)+r.charAt(n)+r.charAt(h)+r.charAt(f));return p.join("")},e.decode=function(d){var _,o,s,i,n,h,f=0,p=0,c="data:";if(d.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var k,C=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===r.charAt(64)&&C--,d.charAt(d.length-2)===r.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=l.uint8array?new Uint8Array(0|C):new Array(0|C);f<d.length;)_=r.indexOf(d.charAt(f++))<<2|(i=r.indexOf(d.charAt(f++)))>>4,o=(15&i)<<4|(n=r.indexOf(d.charAt(f++)))>>2,s=(3&n)<<6|(h=r.indexOf(d.charAt(f++))),k[p++]=_,n!==64&&(k[p++]=o),h!==64&&(k[p++]=s);return k}},{"./support":30,"./utils":32}],2:[function(y,b,e){var t=y("./external"),l=y("./stream/DataWorker"),r=y("./stream/Crc32Probe"),d=y("./stream/DataLengthProbe");function _(o,s,i,n,h){this.compressedSize=o,this.uncompressedSize=s,this.crc32=i,this.compression=n,this.compressedContent=h}_.prototype={getContentWorker:function(){var o=new l(t.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),s=this;return o.on("end",function(){if(this.streamInfo.data_length!==s.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),o},getCompressedWorker:function(){return new l(t.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},_.createWorkerFrom=function(o,s,i){return o.pipe(new r).pipe(new d("uncompressedSize")).pipe(s.compressWorker(i)).pipe(new d("compressedSize")).withStreamInfo("compression",s)},b.exports=_},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(y,b,e){var t=y("./stream/GenericWorker");e.STORE={magic:"\0\0",compressWorker:function(){return new t("STORE compression")},uncompressWorker:function(){return new t("STORE decompression")}},e.DEFLATE=y("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(y,b,e){var t=y("./utils"),l=(function(){for(var r,d=[],_=0;_<256;_++){r=_;for(var o=0;o<8;o++)r=1&r?3988292384^r>>>1:r>>>1;d[_]=r}return d})();b.exports=function(r,d){return r!==void 0&&r.length?t.getTypeOf(r)!=="string"?(function(_,o,s,i){var n=l,h=i+s;_^=-1;for(var f=i;f<h;f++)_=_>>>8^n[255&(_^o[f])];return-1^_})(0|d,r,r.length,0):(function(_,o,s,i){var n=l,h=i+s;_^=-1;for(var f=i;f<h;f++)_=_>>>8^n[255&(_^o.charCodeAt(f))];return-1^_})(0|d,r,r.length,0):0}},{"./utils":32}],5:[function(y,b,e){e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},{}],6:[function(y,b,e){var t=null;t=typeof Promise<"u"?Promise:y("lie"),b.exports={Promise:t}},{lie:37}],7:[function(y,b,e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=y("pako"),r=y("./utils"),d=y("./stream/GenericWorker"),_=t?"uint8array":"array";function o(s,i){d.call(this,"FlateWorker/"+s),this._pako=null,this._pakoAction=s,this._pakoOptions=i,this.meta={}}e.magic="\b\0",r.inherits(o,d),o.prototype.processChunk=function(s){this.meta=s.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(_,s.data),!1)},o.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},o.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},o.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var s=this;this._pako.onData=function(i){s.push({data:i,meta:s.meta})}},e.compressWorker=function(s){return new o("Deflate",s)},e.uncompressWorker=function(){return new o("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(y,b,e){function t(n,h){var f,p="";for(f=0;f<h;f++)p+=String.fromCharCode(255&n),n>>>=8;return p}function l(n,h,f,p,c,k){var C,S,U=n.file,A=n.compression,F=k!==_.utf8encode,w=r.transformTo("string",k(U.name)),m=r.transformTo("string",_.utf8encode(U.name)),O=U.comment,B=r.transformTo("string",k(O)),g=r.transformTo("string",_.utf8encode(O)),E=m.length!==U.name.length,a=g.length!==O.length,R="",x="",v="",$=U.dir,T=U.date,G={crc32:0,compressedSize:0,uncompressedSize:0};h&&!f||(G.crc32=n.crc32,G.compressedSize=n.compressedSize,G.uncompressedSize=n.uncompressedSize);var L=0;h&&(L|=8),F||!E&&!a||(L|=2048);var D=0,Y=0;$&&(D|=16),c==="UNIX"?(Y=798,D|=(function(P,tt){var lt=P;return P||(lt=tt?16893:33204),(65535&lt)<<16})(U.unixPermissions,$)):(Y=20,D|=(function(P){return 63&(P||0)})(U.dosPermissions)),C=T.getUTCHours(),C<<=6,C|=T.getUTCMinutes(),C<<=5,C|=T.getUTCSeconds()/2,S=T.getUTCFullYear()-1980,S<<=4,S|=T.getUTCMonth()+1,S<<=5,S|=T.getUTCDate(),E&&(x=t(1,1)+t(o(w),4)+m,R+="up"+t(x.length,2)+x),a&&(v=t(1,1)+t(o(B),4)+g,R+="uc"+t(v.length,2)+v);var W="";return W+=`
\0`,W+=t(L,2),W+=A.magic,W+=t(C,2),W+=t(S,2),W+=t(G.crc32,4),W+=t(G.compressedSize,4),W+=t(G.uncompressedSize,4),W+=t(w.length,2),W+=t(R.length,2),{fileRecord:s.LOCAL_FILE_HEADER+W+w+R,dirRecord:s.CENTRAL_FILE_HEADER+t(Y,2)+W+t(B.length,2)+"\0\0\0\0"+t(D,4)+t(p,4)+w+R+B}}var r=y("../utils"),d=y("../stream/GenericWorker"),_=y("../utf8"),o=y("../crc32"),s=y("../signature");function i(n,h,f,p){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=h,this.zipPlatform=f,this.encodeFileName=p,this.streamFiles=n,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(i,d),i.prototype.push=function(n){var h=n.meta.percent||0,f=this.entriesCount,p=this._sources.length;this.accumulate?this.contentBuffer.push(n):(this.bytesWritten+=n.data.length,d.prototype.push.call(this,{data:n.data,meta:{currentFile:this.currentFile,percent:f?(h+100*(f-p-1))/f:100}}))},i.prototype.openedSource=function(n){this.currentSourceOffset=this.bytesWritten,this.currentFile=n.file.name;var h=this.streamFiles&&!n.file.dir;if(h){var f=l(n,h,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},i.prototype.closedSource=function(n){this.accumulate=!1;var h=this.streamFiles&&!n.file.dir,f=l(n,h,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),h)this.push({data:(function(p){return s.DATA_DESCRIPTOR+t(p.crc32,4)+t(p.compressedSize,4)+t(p.uncompressedSize,4)})(n),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},i.prototype.flush=function(){for(var n=this.bytesWritten,h=0;h<this.dirRecords.length;h++)this.push({data:this.dirRecords[h],meta:{percent:100}});var f=this.bytesWritten-n,p=(function(c,k,C,S,U){var A=r.transformTo("string",U(S));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+t(c,2)+t(c,2)+t(k,4)+t(C,4)+t(A.length,2)+A})(this.dirRecords.length,f,n,this.zipComment,this.encodeFileName);this.push({data:p,meta:{percent:100}})},i.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},i.prototype.registerPrevious=function(n){this._sources.push(n);var h=this;return n.on("data",function(f){h.processChunk(f)}),n.on("end",function(){h.closedSource(h.previous.streamInfo),h._sources.length?h.prepareNextSource():h.end()}),n.on("error",function(f){h.error(f)}),this},i.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},i.prototype.error=function(n){var h=this._sources;if(!d.prototype.error.call(this,n))return!1;for(var f=0;f<h.length;f++)try{h[f].error(n)}catch{}return!0},i.prototype.lock=function(){d.prototype.lock.call(this);for(var n=this._sources,h=0;h<n.length;h++)n[h].lock()},b.exports=i},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(y,b,e){var t=y("../compressions"),l=y("./ZipFileWorker");e.generateWorker=function(r,d,_){var o=new l(d.streamFiles,_,d.platform,d.encodeFileName),s=0;try{r.forEach(function(i,n){s++;var h=(function(k,C){var S=k||C,U=t[S];if(!U)throw new Error(S+" is not a valid compression method !");return U})(n.options.compression,d.compression),f=n.options.compressionOptions||d.compressionOptions||{},p=n.dir,c=n.date;n._compressWorker(h,f).withStreamInfo("file",{name:i,dir:p,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)}),o.entriesCount=s}catch(i){o.error(i)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(y,b,e){function t(){if(!(this instanceof t))return new t;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new t;for(var r in this)typeof this[r]!="function"&&(l[r]=this[r]);return l}}(t.prototype=y("./object")).loadAsync=y("./load"),t.support=y("./support"),t.defaults=y("./defaults"),t.version="3.10.1",t.loadAsync=function(l,r){return new t().loadAsync(l,r)},t.external=y("./external"),b.exports=t},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(y,b,e){var t=y("./utils"),l=y("./external"),r=y("./utf8"),d=y("./zipEntries"),_=y("./stream/Crc32Probe"),o=y("./nodejsUtils");function s(i){return new l.Promise(function(n,h){var f=i.decompressed.getContentWorker().pipe(new _);f.on("error",function(p){h(p)}).on("end",function(){f.streamInfo.crc32!==i.decompressed.crc32?h(new Error("Corrupted zip : CRC32 mismatch")):n()}).resume()})}b.exports=function(i,n){var h=this;return n=t.extend(n||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),o.isNode&&o.isStream(i)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):t.prepareContent("the loaded zip file",i,!0,n.optimizedBinaryString,n.base64).then(function(f){var p=new d(n);return p.load(f),p}).then(function(f){var p=[l.Promise.resolve(f)],c=f.files;if(n.checkCRC32)for(var k=0;k<c.length;k++)p.push(s(c[k]));return l.Promise.all(p)}).then(function(f){for(var p=f.shift(),c=p.files,k=0;k<c.length;k++){var C=c[k],S=C.fileNameStr,U=t.resolve(C.fileNameStr);h.file(U,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:n.createFolders}),C.dir||(h.file(U).unsafeOriginalName=S)}return p.zipComment.length&&(h.comment=p.zipComment),h})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(y,b,e){var t=y("../utils"),l=y("../stream/GenericWorker");function r(d,_){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(_)}t.inherits(r,l),r.prototype._bindStream=function(d){var _=this;(this._stream=d).pause(),d.on("data",function(o){_.push({data:o,meta:{percent:0}})}).on("error",function(o){_.isPaused?this.generatedError=o:_.error(o)}).on("end",function(){_.isPaused?_._upstreamEnded=!0:_.end()})},r.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},b.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(y,b,e){var t=y("readable-stream").Readable;function l(r,d,_){t.call(this,d),this._helper=r;var o=this;r.on("data",function(s,i){o.push(s)||o._helper.pause(),_&&_(i)}).on("error",function(s){o.emit("error",s)}).on("end",function(){o.push(null)})}y("../utils").inherits(l,t),l.prototype._read=function(){this._helper.resume()},b.exports=l},{"../utils":32,"readable-stream":16}],14:[function(y,b,e){b.exports={isNode:typeof Buffer<"u",newBufferFrom:function(t,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,l);if(typeof t=="number")throw new Error('The "data" argument must not be a number');return new Buffer(t,l)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var l=new Buffer(t);return l.fill(0),l},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&typeof t.on=="function"&&typeof t.pause=="function"&&typeof t.resume=="function"}}},{}],15:[function(y,b,e){function t(U,A,F){var w,m=r.getTypeOf(A),O=r.extend(F||{},o);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(U=c(U)),O.createFolders&&(w=p(U))&&k.call(this,w,!0);var B=m==="string"&&O.binary===!1&&O.base64===!1;F&&F.binary!==void 0||(O.binary=!B),(A instanceof s&&A.uncompressedSize===0||O.dir||!A||A.length===0)&&(O.base64=!1,O.binary=!0,A="",O.compression="STORE",m="string");var g=null;g=A instanceof s||A instanceof d?A:h.isNode&&h.isStream(A)?new f(U,A):r.prepareContent(U,A,O.binary,O.optimizedBinaryString,O.base64);var E=new i(U,g,O);this.files[U]=E}var l=y("./utf8"),r=y("./utils"),d=y("./stream/GenericWorker"),_=y("./stream/StreamHelper"),o=y("./defaults"),s=y("./compressedObject"),i=y("./zipObject"),n=y("./generate"),h=y("./nodejsUtils"),f=y("./nodejs/NodejsStreamInputAdapter"),p=function(U){U.slice(-1)==="/"&&(U=U.substring(0,U.length-1));var A=U.lastIndexOf("/");return 0<A?U.substring(0,A):""},c=function(U){return U.slice(-1)!=="/"&&(U+="/"),U},k=function(U,A){return A=A!==void 0?A:o.createFolders,U=c(U),this.files[U]||t.call(this,U,null,{dir:!0,createFolders:A}),this.files[U]};function C(U){return Object.prototype.toString.call(U)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(U){var A,F,w;for(A in this.files)w=this.files[A],(F=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&U(F,w)},filter:function(U){var A=[];return this.forEach(function(F,w){U(F,w)&&A.push(w)}),A},file:function(U,A,F){if(arguments.length!==1)return U=this.root+U,t.call(this,U,A,F),this;if(C(U)){var w=U;return this.filter(function(O,B){return!B.dir&&w.test(O)})}var m=this.files[this.root+U];return m&&!m.dir?m:null},folder:function(U){if(!U)return this;if(C(U))return this.filter(function(m,O){return O.dir&&U.test(m)});var A=this.root+U,F=k.call(this,A),w=this.clone();return w.root=F.name,w},remove:function(U){U=this.root+U;var A=this.files[U];if(A||(U.slice(-1)!=="/"&&(U+="/"),A=this.files[U]),A&&!A.dir)delete this.files[U];else for(var F=this.filter(function(m,O){return O.name.slice(0,U.length)===U}),w=0;w<F.length;w++)delete this.files[F[w].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(U){var A,F={};try{if((F=r.extend(U||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");r.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var w=F.comment||this.comment||"";A=n.generateWorker(this,F,w)}catch(m){(A=new d("error")).error(m)}return new _(A,F.type||"string",F.mimeType)},generateAsync:function(U,A){return this.generateInternalStream(U).accumulate(A)},generateNodeStream:function(U,A){return(U=U||{}).type||(U.type="nodebuffer"),this.generateInternalStream(U).toNodejsStream(A)}};b.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(y,b,e){b.exports=y("stream")},{stream:void 0}],17:[function(y,b,e){var t=y("./DataReader");function l(r){t.call(this,r);for(var d=0;d<this.data.length;d++)r[d]=255&r[d]}y("../utils").inherits(l,t),l.prototype.byteAt=function(r){return this.data[this.zero+r]},l.prototype.lastIndexOfSignature=function(r){for(var d=r.charCodeAt(0),_=r.charCodeAt(1),o=r.charCodeAt(2),s=r.charCodeAt(3),i=this.length-4;0<=i;--i)if(this.data[i]===d&&this.data[i+1]===_&&this.data[i+2]===o&&this.data[i+3]===s)return i-this.zero;return-1},l.prototype.readAndCheckSignature=function(r){var d=r.charCodeAt(0),_=r.charCodeAt(1),o=r.charCodeAt(2),s=r.charCodeAt(3),i=this.readData(4);return d===i[0]&&_===i[1]&&o===i[2]&&s===i[3]},l.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,d},b.exports=l},{"../utils":32,"./DataReader":18}],18:[function(y,b,e){var t=y("../utils");function l(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var d,_=0;for(this.checkOffset(r),d=this.index+r-1;d>=this.index;d--)_=(_<<8)+this.byteAt(d);return this.index+=r,_},readString:function(r){return t.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},b.exports=l},{"../utils":32}],19:[function(y,b,e){var t=y("./Uint8ArrayReader");function l(r){t.call(this,r)}y("../utils").inherits(l,t),l.prototype.readData=function(r){this.checkOffset(r);var d=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,d},b.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(y,b,e){var t=y("./DataReader");function l(r){t.call(this,r)}y("../utils").inherits(l,t),l.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},l.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},l.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},l.prototype.readData=function(r){this.checkOffset(r);var d=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,d},b.exports=l},{"../utils":32,"./DataReader":18}],21:[function(y,b,e){var t=y("./ArrayReader");function l(r){t.call(this,r)}y("../utils").inherits(l,t),l.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,d},b.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(y,b,e){var t=y("../utils"),l=y("../support"),r=y("./ArrayReader"),d=y("./StringReader"),_=y("./NodeBufferReader"),o=y("./Uint8ArrayReader");b.exports=function(s){var i=t.getTypeOf(s);return t.checkSupport(i),i!=="string"||l.uint8array?i==="nodebuffer"?new _(s):l.uint8array?new o(t.transformTo("uint8array",s)):new r(t.transformTo("array",s)):new d(s)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(y,b,e){e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(y,b,e){var t=y("./GenericWorker"),l=y("../utils");function r(d){t.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(r,t),r.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},b.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(y,b,e){var t=y("./GenericWorker"),l=y("../crc32");function r(){t.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}y("../utils").inherits(r,t),r.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},b.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(y,b,e){var t=y("../utils"),l=y("./GenericWorker");function r(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}t.inherits(r,l),r.prototype.processChunk=function(d){if(d){var _=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=_+d.data.length}l.prototype.processChunk.call(this,d)},b.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(y,b,e){var t=y("../utils"),l=y("./GenericWorker");function r(d){l.call(this,"DataWorker");var _=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(o){_.dataIsReady=!0,_.data=o,_.max=o&&o.length||0,_.type=t.getTypeOf(o),_.isPaused||_._tickAndRepeat()},function(o){_.error(o)})}t.inherits(r,l),r.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,t.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(t.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,_=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,_);break;case"uint8array":d=this.data.subarray(this.index,_);break;case"array":case"nodebuffer":d=this.data.slice(this.index,_)}return this.index=_,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},b.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(y,b,e){function t(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}t.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,r){return this._listeners[l].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,r){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,r)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var r=this;return l.on("data",function(d){r.processChunk(d)}),l.on("end",function(){r.end()}),l.on("error",function(d){r.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,r){return this.extraStreamInfo[l]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},b.exports=t},{}],29:[function(y,b,e){var t=y("../utils"),l=y("./ConvertWorker"),r=y("./GenericWorker"),d=y("../base64"),_=y("../support"),o=y("../external"),s=null;if(_.nodestream)try{s=y("../nodejs/NodejsStreamOutputAdapter")}catch{}function i(h,f){return new o.Promise(function(p,c){var k=[],C=h._internalType,S=h._outputType,U=h._mimeType;h.on("data",function(A,F){k.push(A),f&&f(F)}).on("error",function(A){k=[],c(A)}).on("end",function(){try{var A=(function(F,w,m){switch(F){case"blob":return t.newBlob(t.transformTo("arraybuffer",w),m);case"base64":return d.encode(w);default:return t.transformTo(F,w)}})(S,(function(F,w){var m,O=0,B=null,g=0;for(m=0;m<w.length;m++)g+=w[m].length;switch(F){case"string":return w.join("");case"array":return Array.prototype.concat.apply([],w);case"uint8array":for(B=new Uint8Array(g),m=0;m<w.length;m++)B.set(w[m],O),O+=w[m].length;return B;case"nodebuffer":return Buffer.concat(w);default:throw new Error("concat : unsupported type '"+F+"'")}})(C,k),U);p(A)}catch(F){c(F)}k=[]}).resume()})}function n(h,f,p){var c=f;switch(f){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=f,this._mimeType=p,t.checkSupport(c),this._worker=h.pipe(new l(c)),h.lock()}catch(k){this._worker=new r("error"),this._worker.error(k)}}n.prototype={accumulate:function(h){return i(this,h)},on:function(h,f){var p=this;return h==="data"?this._worker.on(h,function(c){f.call(p,c.data,c.meta)}):this._worker.on(h,function(){t.delay(f,arguments,p)}),this},resume:function(){return t.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(h){if(t.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new s(this,{objectMode:this._outputType!=="nodebuffer"},h)}},b.exports=n},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(y,b,e){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",e.nodebuffer=typeof Buffer<"u",e.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")e.blob=!1;else{var t=new ArrayBuffer(0);try{e.blob=new Blob([t],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(t),e.blob=l.getBlob("application/zip").size===0}catch{e.blob=!1}}}try{e.nodestream=!!y("readable-stream").Readable}catch{e.nodestream=!1}},{"readable-stream":16}],31:[function(y,b,e){for(var t=y("./utils"),l=y("./support"),r=y("./nodejsUtils"),d=y("./stream/GenericWorker"),_=new Array(256),o=0;o<256;o++)_[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;_[254]=_[254]=1;function s(){d.call(this,"utf-8 decode"),this.leftOver=null}function i(){d.call(this,"utf-8 encode")}e.utf8encode=function(n){return l.nodebuffer?r.newBufferFrom(n,"utf-8"):(function(h){var f,p,c,k,C,S=h.length,U=0;for(k=0;k<S;k++)(64512&(p=h.charCodeAt(k)))==55296&&k+1<S&&(64512&(c=h.charCodeAt(k+1)))==56320&&(p=65536+(p-55296<<10)+(c-56320),k++),U+=p<128?1:p<2048?2:p<65536?3:4;for(f=l.uint8array?new Uint8Array(U):new Array(U),k=C=0;C<U;k++)(64512&(p=h.charCodeAt(k)))==55296&&k+1<S&&(64512&(c=h.charCodeAt(k+1)))==56320&&(p=65536+(p-55296<<10)+(c-56320),k++),p<128?f[C++]=p:(p<2048?f[C++]=192|p>>>6:(p<65536?f[C++]=224|p>>>12:(f[C++]=240|p>>>18,f[C++]=128|p>>>12&63),f[C++]=128|p>>>6&63),f[C++]=128|63&p);return f})(n)},e.utf8decode=function(n){return l.nodebuffer?t.transformTo("nodebuffer",n).toString("utf-8"):(function(h){var f,p,c,k,C=h.length,S=new Array(2*C);for(f=p=0;f<C;)if((c=h[f++])<128)S[p++]=c;else if(4<(k=_[c]))S[p++]=65533,f+=k-1;else{for(c&=k===2?31:k===3?15:7;1<k&&f<C;)c=c<<6|63&h[f++],k--;1<k?S[p++]=65533:c<65536?S[p++]=c:(c-=65536,S[p++]=55296|c>>10&1023,S[p++]=56320|1023&c)}return S.length!==p&&(S.subarray?S=S.subarray(0,p):S.length=p),t.applyFromCharCode(S)})(n=t.transformTo(l.uint8array?"uint8array":"array",n))},t.inherits(s,d),s.prototype.processChunk=function(n){var h=t.transformTo(l.uint8array?"uint8array":"array",n.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var f=h;(h=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),h.set(f,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var p=(function(k,C){var S;for((C=C||k.length)>k.length&&(C=k.length),S=C-1;0<=S&&(192&k[S])==128;)S--;return S<0||S===0?C:S+_[k[S]]>C?S:C})(h),c=h;p!==h.length&&(l.uint8array?(c=h.subarray(0,p),this.leftOver=h.subarray(p,h.length)):(c=h.slice(0,p),this.leftOver=h.slice(p,h.length))),this.push({data:e.utf8decode(c),meta:n.meta})},s.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=s,t.inherits(i,d),i.prototype.processChunk=function(n){this.push({data:e.utf8encode(n.data),meta:n.meta})},e.Utf8EncodeWorker=i},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(y,b,e){var t=y("./support"),l=y("./base64"),r=y("./nodejsUtils"),d=y("./external");function _(f){return f}function o(f,p){for(var c=0;c<f.length;++c)p[c]=255&f.charCodeAt(c);return p}y("setimmediate"),e.newBlob=function(f,p){e.checkSupport("blob");try{return new Blob([f],{type:p})}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(f),c.getBlob(p)}catch{throw new Error("Bug : can't construct the Blob.")}}};var s={stringifyByChunk:function(f,p,c){var k=[],C=0,S=f.length;if(S<=c)return String.fromCharCode.apply(null,f);for(;C<S;)p==="array"||p==="nodebuffer"?k.push(String.fromCharCode.apply(null,f.slice(C,Math.min(C+c,S)))):k.push(String.fromCharCode.apply(null,f.subarray(C,Math.min(C+c,S)))),C+=c;return k.join("")},stringifyByChar:function(f){for(var p="",c=0;c<f.length;c++)p+=String.fromCharCode(f[c]);return p},applyCanBeUsed:{uint8array:(function(){try{return t.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return t.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}})()}};function i(f){var p=65536,c=e.getTypeOf(f),k=!0;if(c==="uint8array"?k=s.applyCanBeUsed.uint8array:c==="nodebuffer"&&(k=s.applyCanBeUsed.nodebuffer),k)for(;1<p;)try{return s.stringifyByChunk(f,c,p)}catch{p=Math.floor(p/2)}return s.stringifyByChar(f)}function n(f,p){for(var c=0;c<f.length;c++)p[c]=f[c];return p}e.applyFromCharCode=i;var h={};h.string={string:_,array:function(f){return o(f,new Array(f.length))},arraybuffer:function(f){return h.string.uint8array(f).buffer},uint8array:function(f){return o(f,new Uint8Array(f.length))},nodebuffer:function(f){return o(f,r.allocBuffer(f.length))}},h.array={string:i,array:_,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return r.newBufferFrom(f)}},h.arraybuffer={string:function(f){return i(new Uint8Array(f))},array:function(f){return n(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:_,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return r.newBufferFrom(new Uint8Array(f))}},h.uint8array={string:i,array:function(f){return n(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:_,nodebuffer:function(f){return r.newBufferFrom(f)}},h.nodebuffer={string:i,array:function(f){return n(f,new Array(f.length))},arraybuffer:function(f){return h.nodebuffer.uint8array(f).buffer},uint8array:function(f){return n(f,new Uint8Array(f.length))},nodebuffer:_},e.transformTo=function(f,p){if(p=p||"",!f)return p;e.checkSupport(f);var c=e.getTypeOf(p);return h[c][f](p)},e.resolve=function(f){for(var p=f.split("/"),c=[],k=0;k<p.length;k++){var C=p[k];C==="."||C===""&&k!==0&&k!==p.length-1||(C===".."?c.pop():c.push(C))}return c.join("/")},e.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":t.nodebuffer&&r.isBuffer(f)?"nodebuffer":t.uint8array&&f instanceof Uint8Array?"uint8array":t.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(f){if(!t[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(f){var p,c,k="";for(c=0;c<(f||"").length;c++)k+="\\x"+((p=f.charCodeAt(c))<16?"0":"")+p.toString(16).toUpperCase();return k},e.delay=function(f,p,c){setImmediate(function(){f.apply(c||null,p||[])})},e.inherits=function(f,p){function c(){}c.prototype=p.prototype,f.prototype=new c},e.extend=function(){var f,p,c={};for(f=0;f<arguments.length;f++)for(p in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],p)&&c[p]===void 0&&(c[p]=arguments[f][p]);return c},e.prepareContent=function(f,p,c,k,C){return d.Promise.resolve(p).then(function(S){return t.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new d.Promise(function(U,A){var F=new FileReader;F.onload=function(w){U(w.target.result)},F.onerror=function(w){A(w.target.error)},F.readAsArrayBuffer(S)}):S}).then(function(S){var U=e.getTypeOf(S);return U?(U==="arraybuffer"?S=e.transformTo("uint8array",S):U==="string"&&(C?S=l.decode(S):c&&k!==!0&&(S=(function(A){return o(A,t.uint8array?new Uint8Array(A.length):new Array(A.length))})(S))),S):d.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(y,b,e){var t=y("./reader/readerFor"),l=y("./utils"),r=y("./signature"),d=y("./zipEntry"),_=y("./support");function o(s){this.files=[],this.loadOptions=s}o.prototype={checkSignature:function(s){if(!this.reader.readAndCheckSignature(s)){this.reader.index-=4;var i=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(i)+", expected "+l.pretty(s)+")")}},isSignature:function(s,i){var n=this.reader.index;this.reader.setIndex(s);var h=this.reader.readString(4)===i;return this.reader.setIndex(n),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var s=this.reader.readData(this.zipCommentLength),i=_.uint8array?"uint8array":"array",n=l.transformTo(i,s);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var s,i,n,h=this.zip64EndOfCentralSize-44;0<h;)s=this.reader.readInt(2),i=this.reader.readInt(4),n=this.reader.readData(i),this.zip64ExtensibleData[s]={id:s,length:i,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var s,i;for(s=0;s<this.files.length;s++)i=this.files[s],this.reader.setIndex(i.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),i.readLocalPart(this.reader),i.handleUTF8(),i.processAttributes()},readCentralDir:function(){var s;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(s=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(s);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var s=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(s<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(s);var i=s;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(s=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(s),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var h=i-n;if(0<h)this.isSignature(i,r.CENTRAL_FILE_HEADER)||(this.reader.zero=h);else if(h<0)throw new Error("Corrupted zip: missing "+Math.abs(h)+" bytes.")},prepareReader:function(s){this.reader=t(s)},load:function(s){this.prepareReader(s),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=o},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(y,b,e){var t=y("./reader/readerFor"),l=y("./utils"),r=y("./compressedObject"),d=y("./crc32"),_=y("./utf8"),o=y("./compressions"),s=y("./support");function i(n,h){this.options=n,this.loadOptions=h}i.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(n){var h,f;if(n.skip(22),this.fileNameLength=n.readInt(2),f=n.readInt(2),this.fileName=n.readData(this.fileNameLength),n.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((h=(function(p){for(var c in o)if(Object.prototype.hasOwnProperty.call(o,c)&&o[c].magic===p)return o[c];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,h,n.readData(this.compressedSize))},readCentralPart:function(n){this.versionMadeBy=n.readInt(2),n.skip(2),this.bitFlag=n.readInt(2),this.compressionMethod=n.readString(2),this.date=n.readDate(),this.crc32=n.readInt(4),this.compressedSize=n.readInt(4),this.uncompressedSize=n.readInt(4);var h=n.readInt(2);if(this.extraFieldsLength=n.readInt(2),this.fileCommentLength=n.readInt(2),this.diskNumberStart=n.readInt(2),this.internalFileAttributes=n.readInt(2),this.externalFileAttributes=n.readInt(4),this.localHeaderOffset=n.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");n.skip(h),this.readExtraFields(n),this.parseZIP64ExtraField(n),this.fileComment=n.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var n=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),n==0&&(this.dosPermissions=63&this.externalFileAttributes),n==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var n=t(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=n.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=n.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=n.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=n.readInt(4))}},readExtraFields:function(n){var h,f,p,c=n.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});n.index+4<c;)h=n.readInt(2),f=n.readInt(2),p=n.readData(f),this.extraFields[h]={id:h,length:f,value:p};n.setIndex(c)},handleUTF8:function(){var n=s.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=_.utf8decode(this.fileName),this.fileCommentStr=_.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var f=l.transformTo(n,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var p=this.findExtraFieldUnicodeComment();if(p!==null)this.fileCommentStr=p;else{var c=l.transformTo(n,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var n=this.extraFields[28789];if(n){var h=t(n.value);return h.readInt(1)!==1||d(this.fileName)!==h.readInt(4)?null:_.utf8decode(h.readData(n.length-5))}return null},findExtraFieldUnicodeComment:function(){var n=this.extraFields[25461];if(n){var h=t(n.value);return h.readInt(1)!==1||d(this.fileComment)!==h.readInt(4)?null:_.utf8decode(h.readData(n.length-5))}return null}},b.exports=i},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(y,b,e){function t(h,f,p){this.name=h,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=f,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}}var l=y("./stream/StreamHelper"),r=y("./stream/DataWorker"),d=y("./utf8"),_=y("./compressedObject"),o=y("./stream/GenericWorker");t.prototype={internalStream:function(h){var f=null,p="string";try{if(!h)throw new Error("No output type specified.");var c=(p=h.toLowerCase())==="string"||p==="text";p!=="binarystring"&&p!=="text"||(p="string"),f=this._decompressWorker();var k=!this._dataBinary;k&&!c&&(f=f.pipe(new d.Utf8EncodeWorker)),!k&&c&&(f=f.pipe(new d.Utf8DecodeWorker))}catch(C){(f=new o("error")).error(C)}return new l(f,p,"")},async:function(h,f){return this.internalStream(h).accumulate(f)},nodeStream:function(h,f){return this.internalStream(h||"nodebuffer").toNodejsStream(f)},_compressWorker:function(h,f){if(this._data instanceof _&&this._data.compression.magic===h.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new d.Utf8EncodeWorker)),_.createWorkerFrom(p,h,f)},_decompressWorker:function(){return this._data instanceof _?this._data.getContentWorker():this._data instanceof o?this._data:new r(this._data)}};for(var s=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],i=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},n=0;n<s.length;n++)t.prototype[s[n]]=i;b.exports=t},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(y,b,e){(function(t){var l,r,d=t.MutationObserver||t.WebKitMutationObserver;if(d){var _=0,o=new d(h),s=t.document.createTextNode("");o.observe(s,{characterData:!0}),l=function(){s.data=_=++_%2}}else if(t.setImmediate||t.MessageChannel===void 0)l="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var f=t.document.createElement("script");f.onreadystatechange=function(){h(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},t.document.documentElement.appendChild(f)}:function(){setTimeout(h,0)};else{var i=new t.MessageChannel;i.port1.onmessage=h,l=function(){i.port2.postMessage(0)}}var n=[];function h(){var f,p;r=!0;for(var c=n.length;c;){for(p=n,n=[],f=-1;++f<c;)p[f]();c=n.length}r=!1}b.exports=function(f){n.push(f)!==1||r||l()}}).call(this,typeof jt<"u"?jt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(y,b,e){var t=y("immediate");function l(){}var r={},d=["REJECTED"],_=["FULFILLED"],o=["PENDING"];function s(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=o,this.queue=[],this.outcome=void 0,c!==l&&f(this,c)}function i(c,k,C){this.promise=c,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function n(c,k,C){t(function(){var S;try{S=k(C)}catch(U){return r.reject(c,U)}S===c?r.reject(c,new TypeError("Cannot resolve promise with itself")):r.resolve(c,S)})}function h(c){var k=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof k=="function")return function(){k.apply(c,arguments)}}function f(c,k){var C=!1;function S(F){C||(C=!0,r.reject(c,F))}function U(F){C||(C=!0,r.resolve(c,F))}var A=p(function(){k(U,S)});A.status==="error"&&S(A.value)}function p(c,k){var C={};try{C.value=c(k),C.status="success"}catch(S){C.status="error",C.value=S}return C}(b.exports=s).prototype.finally=function(c){if(typeof c!="function")return this;var k=this.constructor;return this.then(function(C){return k.resolve(c()).then(function(){return C})},function(C){return k.resolve(c()).then(function(){throw C})})},s.prototype.catch=function(c){return this.then(null,c)},s.prototype.then=function(c,k){if(typeof c!="function"&&this.state===_||typeof k!="function"&&this.state===d)return this;var C=new this.constructor(l);return this.state!==o?n(C,this.state===_?c:k,this.outcome):this.queue.push(new i(C,c,k)),C},i.prototype.callFulfilled=function(c){r.resolve(this.promise,c)},i.prototype.otherCallFulfilled=function(c){n(this.promise,this.onFulfilled,c)},i.prototype.callRejected=function(c){r.reject(this.promise,c)},i.prototype.otherCallRejected=function(c){n(this.promise,this.onRejected,c)},r.resolve=function(c,k){var C=p(h,k);if(C.status==="error")return r.reject(c,C.value);var S=C.value;if(S)f(c,S);else{c.state=_,c.outcome=k;for(var U=-1,A=c.queue.length;++U<A;)c.queue[U].callFulfilled(k)}return c},r.reject=function(c,k){c.state=d,c.outcome=k;for(var C=-1,S=c.queue.length;++C<S;)c.queue[C].callRejected(k);return c},s.resolve=function(c){return c instanceof this?c:r.resolve(new this(l),c)},s.reject=function(c){var k=new this(l);return r.reject(k,c)},s.all=function(c){var k=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=c.length,S=!1;if(!C)return this.resolve([]);for(var U=new Array(C),A=0,F=-1,w=new this(l);++F<C;)m(c[F],F);return w;function m(O,B){k.resolve(O).then(function(g){U[B]=g,++A!==C||S||(S=!0,r.resolve(w,U))},function(g){S||(S=!0,r.reject(w,g))})}},s.race=function(c){var k=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=c.length,S=!1;if(!C)return this.resolve([]);for(var U=-1,A=new this(l);++U<C;)F=c[U],k.resolve(F).then(function(w){S||(S=!0,r.resolve(A,w))},function(w){S||(S=!0,r.reject(A,w))});var F;return A}},{immediate:36}],38:[function(y,b,e){var t={};(0,y("./lib/utils/common").assign)(t,y("./lib/deflate"),y("./lib/inflate"),y("./lib/zlib/constants")),b.exports=t},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(y,b,e){var t=y("./zlib/deflate"),l=y("./utils/common"),r=y("./utils/strings"),d=y("./zlib/messages"),_=y("./zlib/zstream"),o=Object.prototype.toString,s=0,i=-1,n=0,h=8;function f(c){if(!(this instanceof f))return new f(c);this.options=l.assign({level:i,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:n,to:""},c||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var C=t.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(C!==s)throw new Error(d[C]);if(k.header&&t.deflateSetHeader(this.strm,k.header),k.dictionary){var S;if(S=typeof k.dictionary=="string"?r.string2buf(k.dictionary):o.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(C=t.deflateSetDictionary(this.strm,S))!==s)throw new Error(d[C]);this._dict_set=!0}}function p(c,k){var C=new f(k);if(C.push(c,!0),C.err)throw C.msg||d[C.err];return C.result}f.prototype.push=function(c,k){var C,S,U=this.strm,A=this.options.chunkSize;if(this.ended)return!1;S=k===~~k?k:k===!0?4:0,typeof c=="string"?U.input=r.string2buf(c):o.call(c)==="[object ArrayBuffer]"?U.input=new Uint8Array(c):U.input=c,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new l.Buf8(A),U.next_out=0,U.avail_out=A),(C=t.deflate(U,S))!==1&&C!==s)return this.onEnd(C),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(l.shrinkBuf(U.output,U.next_out))):this.onData(l.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&C!==1);return S===4?(C=t.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===s):S!==2||(this.onEnd(s),!(U.avail_out=0))},f.prototype.onData=function(c){this.chunks.push(c)},f.prototype.onEnd=function(c){c===s&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},e.Deflate=f,e.deflate=p,e.deflateRaw=function(c,k){return(k=k||{}).raw=!0,p(c,k)},e.gzip=function(c,k){return(k=k||{}).gzip=!0,p(c,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(y,b,e){var t=y("./zlib/inflate"),l=y("./utils/common"),r=y("./utils/strings"),d=y("./zlib/constants"),_=y("./zlib/messages"),o=y("./zlib/zstream"),s=y("./zlib/gzheader"),i=Object.prototype.toString;function n(f){if(!(this instanceof n))return new n(f);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},f||{});var p=this.options;p.raw&&0<=p.windowBits&&p.windowBits<16&&(p.windowBits=-p.windowBits,p.windowBits===0&&(p.windowBits=-15)),!(0<=p.windowBits&&p.windowBits<16)||f&&f.windowBits||(p.windowBits+=32),15<p.windowBits&&p.windowBits<48&&(15&p.windowBits)==0&&(p.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var c=t.inflateInit2(this.strm,p.windowBits);if(c!==d.Z_OK)throw new Error(_[c]);this.header=new s,t.inflateGetHeader(this.strm,this.header)}function h(f,p){var c=new n(p);if(c.push(f,!0),c.err)throw c.msg||_[c.err];return c.result}n.prototype.push=function(f,p){var c,k,C,S,U,A,F=this.strm,w=this.options.chunkSize,m=this.options.dictionary,O=!1;if(this.ended)return!1;k=p===~~p?p:p===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof f=="string"?F.input=r.binstring2buf(f):i.call(f)==="[object ArrayBuffer]"?F.input=new Uint8Array(f):F.input=f,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new l.Buf8(w),F.next_out=0,F.avail_out=w),(c=t.inflate(F,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&m&&(A=typeof m=="string"?r.string2buf(m):i.call(m)==="[object ArrayBuffer]"?new Uint8Array(m):m,c=t.inflateSetDictionary(this.strm,A)),c===d.Z_BUF_ERROR&&O===!0&&(c=d.Z_OK,O=!1),c!==d.Z_STREAM_END&&c!==d.Z_OK)return this.onEnd(c),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&c!==d.Z_STREAM_END&&(F.avail_in!==0||k!==d.Z_FINISH&&k!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=r.utf8border(F.output,F.next_out),S=F.next_out-C,U=r.buf2string(F.output,C),F.next_out=S,F.avail_out=w-S,S&&l.arraySet(F.output,F.output,C,S,0),this.onData(U)):this.onData(l.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(O=!0)}while((0<F.avail_in||F.avail_out===0)&&c!==d.Z_STREAM_END);return c===d.Z_STREAM_END&&(k=d.Z_FINISH),k===d.Z_FINISH?(c=t.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===d.Z_OK):k!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(F.avail_out=0))},n.prototype.onData=function(f){this.chunks.push(f)},n.prototype.onEnd=function(f){f===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},e.Inflate=n,e.inflate=h,e.inflateRaw=function(f,p){return(p=p||{}).raw=!0,h(f,p)},e.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(y,b,e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";e.assign=function(d){for(var _=Array.prototype.slice.call(arguments,1);_.length;){var o=_.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var s in o)o.hasOwnProperty(s)&&(d[s]=o[s])}}return d},e.shrinkBuf=function(d,_){return d.length===_?d:d.subarray?d.subarray(0,_):(d.length=_,d)};var l={arraySet:function(d,_,o,s,i){if(_.subarray&&d.subarray)d.set(_.subarray(o,o+s),i);else for(var n=0;n<s;n++)d[i+n]=_[o+n]},flattenChunks:function(d){var _,o,s,i,n,h;for(_=s=0,o=d.length;_<o;_++)s+=d[_].length;for(h=new Uint8Array(s),_=i=0,o=d.length;_<o;_++)n=d[_],h.set(n,i),i+=n.length;return h}},r={arraySet:function(d,_,o,s,i){for(var n=0;n<s;n++)d[i+n]=_[o+n]},flattenChunks:function(d){return[].concat.apply([],d)}};e.setTyped=function(d){d?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,l)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,r))},e.setTyped(t)},{}],42:[function(y,b,e){var t=y("./common"),l=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var d=new t.Buf8(256),_=0;_<256;_++)d[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;function o(s,i){if(i<65537&&(s.subarray&&r||!s.subarray&&l))return String.fromCharCode.apply(null,t.shrinkBuf(s,i));for(var n="",h=0;h<i;h++)n+=String.fromCharCode(s[h]);return n}d[254]=d[254]=1,e.string2buf=function(s){var i,n,h,f,p,c=s.length,k=0;for(f=0;f<c;f++)(64512&(n=s.charCodeAt(f)))==55296&&f+1<c&&(64512&(h=s.charCodeAt(f+1)))==56320&&(n=65536+(n-55296<<10)+(h-56320),f++),k+=n<128?1:n<2048?2:n<65536?3:4;for(i=new t.Buf8(k),f=p=0;p<k;f++)(64512&(n=s.charCodeAt(f)))==55296&&f+1<c&&(64512&(h=s.charCodeAt(f+1)))==56320&&(n=65536+(n-55296<<10)+(h-56320),f++),n<128?i[p++]=n:(n<2048?i[p++]=192|n>>>6:(n<65536?i[p++]=224|n>>>12:(i[p++]=240|n>>>18,i[p++]=128|n>>>12&63),i[p++]=128|n>>>6&63),i[p++]=128|63&n);return i},e.buf2binstring=function(s){return o(s,s.length)},e.binstring2buf=function(s){for(var i=new t.Buf8(s.length),n=0,h=i.length;n<h;n++)i[n]=s.charCodeAt(n);return i},e.buf2string=function(s,i){var n,h,f,p,c=i||s.length,k=new Array(2*c);for(n=h=0;n<c;)if((f=s[n++])<128)k[h++]=f;else if(4<(p=d[f]))k[h++]=65533,n+=p-1;else{for(f&=p===2?31:p===3?15:7;1<p&&n<c;)f=f<<6|63&s[n++],p--;1<p?k[h++]=65533:f<65536?k[h++]=f:(f-=65536,k[h++]=55296|f>>10&1023,k[h++]=56320|1023&f)}return o(k,h)},e.utf8border=function(s,i){var n;for((i=i||s.length)>s.length&&(i=s.length),n=i-1;0<=n&&(192&s[n])==128;)n--;return n<0||n===0?i:n+d[s[n]]>i?n:i}},{"./common":41}],43:[function(y,b,e){b.exports=function(t,l,r,d){for(var _=65535&t|0,o=t>>>16&65535|0,s=0;r!==0;){for(r-=s=2e3<r?2e3:r;o=o+(_=_+l[d++]|0)|0,--s;);_%=65521,o%=65521}return _|o<<16|0}},{}],44:[function(y,b,e){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(y,b,e){var t=(function(){for(var l,r=[],d=0;d<256;d++){l=d;for(var _=0;_<8;_++)l=1&l?3988292384^l>>>1:l>>>1;r[d]=l}return r})();b.exports=function(l,r,d,_){var o=t,s=_+d;l^=-1;for(var i=_;i<s;i++)l=l>>>8^o[255&(l^r[i])];return-1^l}},{}],46:[function(y,b,e){var t,l=y("../utils/common"),r=y("./trees"),d=y("./adler32"),_=y("./crc32"),o=y("./messages"),s=0,i=4,n=0,h=-2,f=-1,p=4,c=2,k=8,C=9,S=286,U=30,A=19,F=2*S+1,w=15,m=3,O=258,B=O+m+1,g=42,E=113,a=1,R=2,x=3,v=4;function $(u,q){return u.msg=o[q],q}function T(u){return(u<<1)-(4<u?9:0)}function G(u){for(var q=u.length;0<=--q;)u[q]=0}function L(u){var q=u.state,H=q.pending;H>u.avail_out&&(H=u.avail_out),H!==0&&(l.arraySet(u.output,q.pending_buf,q.pending_out,H,u.next_out),u.next_out+=H,q.pending_out+=H,u.total_out+=H,u.avail_out-=H,q.pending-=H,q.pending===0&&(q.pending_out=0))}function D(u,q){r._tr_flush_block(u,0<=u.block_start?u.block_start:-1,u.strstart-u.block_start,q),u.block_start=u.strstart,L(u.strm)}function Y(u,q){u.pending_buf[u.pending++]=q}function W(u,q){u.pending_buf[u.pending++]=q>>>8&255,u.pending_buf[u.pending++]=255&q}function P(u,q){var H,I,z=u.max_chain_length,N=u.strstart,K=u.prev_length,Q=u.nice_match,Z=u.strstart>u.w_size-B?u.strstart-(u.w_size-B):0,V=u.window,J=u.w_mask,X=u.prev,nt=u.strstart+O,ft=V[N+K-1],it=V[N+K];u.prev_length>=u.good_match&&(z>>=2),Q>u.lookahead&&(Q=u.lookahead);do if(V[(H=q)+K]===it&&V[H+K-1]===ft&&V[H]===V[N]&&V[++H]===V[N+1]){N+=2,H++;do;while(V[++N]===V[++H]&&V[++N]===V[++H]&&V[++N]===V[++H]&&V[++N]===V[++H]&&V[++N]===V[++H]&&V[++N]===V[++H]&&V[++N]===V[++H]&&V[++N]===V[++H]&&N<nt);if(I=O-(nt-N),N=nt-O,K<I){if(u.match_start=q,Q<=(K=I))break;ft=V[N+K-1],it=V[N+K]}}while((q=X[q&J])>Z&&--z!=0);return K<=u.lookahead?K:u.lookahead}function tt(u){var q,H,I,z,N,K,Q,Z,V,J,X=u.w_size;do{if(z=u.window_size-u.lookahead-u.strstart,u.strstart>=X+(X-B)){for(l.arraySet(u.window,u.window,X,X,0),u.match_start-=X,u.strstart-=X,u.block_start-=X,q=H=u.hash_size;I=u.head[--q],u.head[q]=X<=I?I-X:0,--H;);for(q=H=X;I=u.prev[--q],u.prev[q]=X<=I?I-X:0,--H;);z+=X}if(u.strm.avail_in===0)break;if(K=u.strm,Q=u.window,Z=u.strstart+u.lookahead,V=z,J=void 0,J=K.avail_in,V<J&&(J=V),H=J===0?0:(K.avail_in-=J,l.arraySet(Q,K.input,K.next_in,J,Z),K.state.wrap===1?K.adler=d(K.adler,Q,J,Z):K.state.wrap===2&&(K.adler=_(K.adler,Q,J,Z)),K.next_in+=J,K.total_in+=J,J),u.lookahead+=H,u.lookahead+u.insert>=m)for(N=u.strstart-u.insert,u.ins_h=u.window[N],u.ins_h=(u.ins_h<<u.hash_shift^u.window[N+1])&u.hash_mask;u.insert&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[N+m-1])&u.hash_mask,u.prev[N&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=N,N++,u.insert--,!(u.lookahead+u.insert<m)););}while(u.lookahead<B&&u.strm.avail_in!==0)}function lt(u,q){for(var H,I;;){if(u.lookahead<B){if(tt(u),u.lookahead<B&&q===s)return a;if(u.lookahead===0)break}if(H=0,u.lookahead>=m&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+m-1])&u.hash_mask,H=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),H!==0&&u.strstart-H<=u.w_size-B&&(u.match_length=P(u,H)),u.match_length>=m)if(I=r._tr_tally(u,u.strstart-u.match_start,u.match_length-m),u.lookahead-=u.match_length,u.match_length<=u.max_lazy_match&&u.lookahead>=m){for(u.match_length--;u.strstart++,u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+m-1])&u.hash_mask,H=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart,--u.match_length!=0;);u.strstart++}else u.strstart+=u.match_length,u.match_length=0,u.ins_h=u.window[u.strstart],u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+1])&u.hash_mask;else I=r._tr_tally(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++;if(I&&(D(u,!1),u.strm.avail_out===0))return a}return u.insert=u.strstart<m-1?u.strstart:m-1,q===i?(D(u,!0),u.strm.avail_out===0?x:v):u.last_lit&&(D(u,!1),u.strm.avail_out===0)?a:R}function et(u,q){for(var H,I,z;;){if(u.lookahead<B){if(tt(u),u.lookahead<B&&q===s)return a;if(u.lookahead===0)break}if(H=0,u.lookahead>=m&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+m-1])&u.hash_mask,H=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),u.prev_length=u.match_length,u.prev_match=u.match_start,u.match_length=m-1,H!==0&&u.prev_length<u.max_lazy_match&&u.strstart-H<=u.w_size-B&&(u.match_length=P(u,H),u.match_length<=5&&(u.strategy===1||u.match_length===m&&4096<u.strstart-u.match_start)&&(u.match_length=m-1)),u.prev_length>=m&&u.match_length<=u.prev_length){for(z=u.strstart+u.lookahead-m,I=r._tr_tally(u,u.strstart-1-u.prev_match,u.prev_length-m),u.lookahead-=u.prev_length-1,u.prev_length-=2;++u.strstart<=z&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+m-1])&u.hash_mask,H=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),--u.prev_length!=0;);if(u.match_available=0,u.match_length=m-1,u.strstart++,I&&(D(u,!1),u.strm.avail_out===0))return a}else if(u.match_available){if((I=r._tr_tally(u,0,u.window[u.strstart-1]))&&D(u,!1),u.strstart++,u.lookahead--,u.strm.avail_out===0)return a}else u.match_available=1,u.strstart++,u.lookahead--}return u.match_available&&(I=r._tr_tally(u,0,u.window[u.strstart-1]),u.match_available=0),u.insert=u.strstart<m-1?u.strstart:m-1,q===i?(D(u,!0),u.strm.avail_out===0?x:v):u.last_lit&&(D(u,!1),u.strm.avail_out===0)?a:R}function rt(u,q,H,I,z){this.good_length=u,this.max_lazy=q,this.nice_length=H,this.max_chain=I,this.func=z}function st(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*F),this.dyn_dtree=new l.Buf16(2*(2*U+1)),this.bl_tree=new l.Buf16(2*(2*A+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(w+1),this.heap=new l.Buf16(2*S+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*S+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ot(u){var q;return u&&u.state?(u.total_in=u.total_out=0,u.data_type=c,(q=u.state).pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?g:E,u.adler=q.wrap===2?0:1,q.last_flush=s,r._tr_init(q),n):$(u,h)}function ct(u){var q=ot(u);return q===n&&(function(H){H.window_size=2*H.w_size,G(H.head),H.max_lazy_match=t[H.level].max_lazy,H.good_match=t[H.level].good_length,H.nice_match=t[H.level].nice_length,H.max_chain_length=t[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=m-1,H.match_available=0,H.ins_h=0})(u.state),q}function gt(u,q,H,I,z,N){if(!u)return h;var K=1;if(q===f&&(q=6),I<0?(K=0,I=-I):15<I&&(K=2,I-=16),z<1||C<z||H!==k||I<8||15<I||q<0||9<q||N<0||p<N)return $(u,h);I===8&&(I=9);var Q=new st;return(u.state=Q).strm=u,Q.wrap=K,Q.gzhead=null,Q.w_bits=I,Q.w_size=1<<Q.w_bits,Q.w_mask=Q.w_size-1,Q.hash_bits=z+7,Q.hash_size=1<<Q.hash_bits,Q.hash_mask=Q.hash_size-1,Q.hash_shift=~~((Q.hash_bits+m-1)/m),Q.window=new l.Buf8(2*Q.w_size),Q.head=new l.Buf16(Q.hash_size),Q.prev=new l.Buf16(Q.w_size),Q.lit_bufsize=1<<z+6,Q.pending_buf_size=4*Q.lit_bufsize,Q.pending_buf=new l.Buf8(Q.pending_buf_size),Q.d_buf=1*Q.lit_bufsize,Q.l_buf=3*Q.lit_bufsize,Q.level=q,Q.strategy=N,Q.method=H,ct(u)}t=[new rt(0,0,0,0,function(u,q){var H=65535;for(H>u.pending_buf_size-5&&(H=u.pending_buf_size-5);;){if(u.lookahead<=1){if(tt(u),u.lookahead===0&&q===s)return a;if(u.lookahead===0)break}u.strstart+=u.lookahead,u.lookahead=0;var I=u.block_start+H;if((u.strstart===0||u.strstart>=I)&&(u.lookahead=u.strstart-I,u.strstart=I,D(u,!1),u.strm.avail_out===0)||u.strstart-u.block_start>=u.w_size-B&&(D(u,!1),u.strm.avail_out===0))return a}return u.insert=0,q===i?(D(u,!0),u.strm.avail_out===0?x:v):(u.strstart>u.block_start&&(D(u,!1),u.strm.avail_out),a)}),new rt(4,4,8,4,lt),new rt(4,5,16,8,lt),new rt(4,6,32,32,lt),new rt(4,4,16,16,et),new rt(8,16,32,32,et),new rt(8,16,128,128,et),new rt(8,32,128,256,et),new rt(32,128,258,1024,et),new rt(32,258,258,4096,et)],e.deflateInit=function(u,q){return gt(u,q,k,15,8,0)},e.deflateInit2=gt,e.deflateReset=ct,e.deflateResetKeep=ot,e.deflateSetHeader=function(u,q){return u&&u.state?u.state.wrap!==2?h:(u.state.gzhead=q,n):h},e.deflate=function(u,q){var H,I,z,N;if(!u||!u.state||5<q||q<0)return u?$(u,h):h;if(I=u.state,!u.output||!u.input&&u.avail_in!==0||I.status===666&&q!==i)return $(u,u.avail_out===0?-5:h);if(I.strm=u,H=I.last_flush,I.last_flush=q,I.status===g)if(I.wrap===2)u.adler=0,Y(I,31),Y(I,139),Y(I,8),I.gzhead?(Y(I,(I.gzhead.text?1:0)+(I.gzhead.hcrc?2:0)+(I.gzhead.extra?4:0)+(I.gzhead.name?8:0)+(I.gzhead.comment?16:0)),Y(I,255&I.gzhead.time),Y(I,I.gzhead.time>>8&255),Y(I,I.gzhead.time>>16&255),Y(I,I.gzhead.time>>24&255),Y(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),Y(I,255&I.gzhead.os),I.gzhead.extra&&I.gzhead.extra.length&&(Y(I,255&I.gzhead.extra.length),Y(I,I.gzhead.extra.length>>8&255)),I.gzhead.hcrc&&(u.adler=_(u.adler,I.pending_buf,I.pending,0)),I.gzindex=0,I.status=69):(Y(I,0),Y(I,0),Y(I,0),Y(I,0),Y(I,0),Y(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),Y(I,3),I.status=E);else{var K=k+(I.w_bits-8<<4)<<8;K|=(2<=I.strategy||I.level<2?0:I.level<6?1:I.level===6?2:3)<<6,I.strstart!==0&&(K|=32),K+=31-K%31,I.status=E,W(I,K),I.strstart!==0&&(W(I,u.adler>>>16),W(I,65535&u.adler)),u.adler=1}if(I.status===69)if(I.gzhead.extra){for(z=I.pending;I.gzindex<(65535&I.gzhead.extra.length)&&(I.pending!==I.pending_buf_size||(I.gzhead.hcrc&&I.pending>z&&(u.adler=_(u.adler,I.pending_buf,I.pending-z,z)),L(u),z=I.pending,I.pending!==I.pending_buf_size));)Y(I,255&I.gzhead.extra[I.gzindex]),I.gzindex++;I.gzhead.hcrc&&I.pending>z&&(u.adler=_(u.adler,I.pending_buf,I.pending-z,z)),I.gzindex===I.gzhead.extra.length&&(I.gzindex=0,I.status=73)}else I.status=73;if(I.status===73)if(I.gzhead.name){z=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>z&&(u.adler=_(u.adler,I.pending_buf,I.pending-z,z)),L(u),z=I.pending,I.pending===I.pending_buf_size)){N=1;break}N=I.gzindex<I.gzhead.name.length?255&I.gzhead.name.charCodeAt(I.gzindex++):0,Y(I,N)}while(N!==0);I.gzhead.hcrc&&I.pending>z&&(u.adler=_(u.adler,I.pending_buf,I.pending-z,z)),N===0&&(I.gzindex=0,I.status=91)}else I.status=91;if(I.status===91)if(I.gzhead.comment){z=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>z&&(u.adler=_(u.adler,I.pending_buf,I.pending-z,z)),L(u),z=I.pending,I.pending===I.pending_buf_size)){N=1;break}N=I.gzindex<I.gzhead.comment.length?255&I.gzhead.comment.charCodeAt(I.gzindex++):0,Y(I,N)}while(N!==0);I.gzhead.hcrc&&I.pending>z&&(u.adler=_(u.adler,I.pending_buf,I.pending-z,z)),N===0&&(I.status=103)}else I.status=103;if(I.status===103&&(I.gzhead.hcrc?(I.pending+2>I.pending_buf_size&&L(u),I.pending+2<=I.pending_buf_size&&(Y(I,255&u.adler),Y(I,u.adler>>8&255),u.adler=0,I.status=E)):I.status=E),I.pending!==0){if(L(u),u.avail_out===0)return I.last_flush=-1,n}else if(u.avail_in===0&&T(q)<=T(H)&&q!==i)return $(u,-5);if(I.status===666&&u.avail_in!==0)return $(u,-5);if(u.avail_in!==0||I.lookahead!==0||q!==s&&I.status!==666){var Q=I.strategy===2?(function(Z,V){for(var J;;){if(Z.lookahead===0&&(tt(Z),Z.lookahead===0)){if(V===s)return a;break}if(Z.match_length=0,J=r._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++,J&&(D(Z,!1),Z.strm.avail_out===0))return a}return Z.insert=0,V===i?(D(Z,!0),Z.strm.avail_out===0?x:v):Z.last_lit&&(D(Z,!1),Z.strm.avail_out===0)?a:R})(I,q):I.strategy===3?(function(Z,V){for(var J,X,nt,ft,it=Z.window;;){if(Z.lookahead<=O){if(tt(Z),Z.lookahead<=O&&V===s)return a;if(Z.lookahead===0)break}if(Z.match_length=0,Z.lookahead>=m&&0<Z.strstart&&(X=it[nt=Z.strstart-1])===it[++nt]&&X===it[++nt]&&X===it[++nt]){ft=Z.strstart+O;do;while(X===it[++nt]&&X===it[++nt]&&X===it[++nt]&&X===it[++nt]&&X===it[++nt]&&X===it[++nt]&&X===it[++nt]&&X===it[++nt]&&nt<ft);Z.match_length=O-(ft-nt),Z.match_length>Z.lookahead&&(Z.match_length=Z.lookahead)}if(Z.match_length>=m?(J=r._tr_tally(Z,1,Z.match_length-m),Z.lookahead-=Z.match_length,Z.strstart+=Z.match_length,Z.match_length=0):(J=r._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++),J&&(D(Z,!1),Z.strm.avail_out===0))return a}return Z.insert=0,V===i?(D(Z,!0),Z.strm.avail_out===0?x:v):Z.last_lit&&(D(Z,!1),Z.strm.avail_out===0)?a:R})(I,q):t[I.level].func(I,q);if(Q!==x&&Q!==v||(I.status=666),Q===a||Q===x)return u.avail_out===0&&(I.last_flush=-1),n;if(Q===R&&(q===1?r._tr_align(I):q!==5&&(r._tr_stored_block(I,0,0,!1),q===3&&(G(I.head),I.lookahead===0&&(I.strstart=0,I.block_start=0,I.insert=0))),L(u),u.avail_out===0))return I.last_flush=-1,n}return q!==i?n:I.wrap<=0?1:(I.wrap===2?(Y(I,255&u.adler),Y(I,u.adler>>8&255),Y(I,u.adler>>16&255),Y(I,u.adler>>24&255),Y(I,255&u.total_in),Y(I,u.total_in>>8&255),Y(I,u.total_in>>16&255),Y(I,u.total_in>>24&255)):(W(I,u.adler>>>16),W(I,65535&u.adler)),L(u),0<I.wrap&&(I.wrap=-I.wrap),I.pending!==0?n:1)},e.deflateEnd=function(u){var q;return u&&u.state?(q=u.state.status)!==g&&q!==69&&q!==73&&q!==91&&q!==103&&q!==E&&q!==666?$(u,h):(u.state=null,q===E?$(u,-3):n):h},e.deflateSetDictionary=function(u,q){var H,I,z,N,K,Q,Z,V,J=q.length;if(!u||!u.state||(N=(H=u.state).wrap)===2||N===1&&H.status!==g||H.lookahead)return h;for(N===1&&(u.adler=d(u.adler,q,J,0)),H.wrap=0,J>=H.w_size&&(N===0&&(G(H.head),H.strstart=0,H.block_start=0,H.insert=0),V=new l.Buf8(H.w_size),l.arraySet(V,q,J-H.w_size,H.w_size,0),q=V,J=H.w_size),K=u.avail_in,Q=u.next_in,Z=u.input,u.avail_in=J,u.next_in=0,u.input=q,tt(H);H.lookahead>=m;){for(I=H.strstart,z=H.lookahead-(m-1);H.ins_h=(H.ins_h<<H.hash_shift^H.window[I+m-1])&H.hash_mask,H.prev[I&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=I,I++,--z;);H.strstart=I,H.lookahead=m-1,tt(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=m-1,H.match_available=0,u.next_in=Q,u.input=Z,u.avail_in=K,H.wrap=N,n},e.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(y,b,e){b.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(y,b,e){b.exports=function(t,l){var r,d,_,o,s,i,n,h,f,p,c,k,C,S,U,A,F,w,m,O,B,g,E,a,R;r=t.state,d=t.next_in,a=t.input,_=d+(t.avail_in-5),o=t.next_out,R=t.output,s=o-(l-t.avail_out),i=o+(t.avail_out-257),n=r.dmax,h=r.wsize,f=r.whave,p=r.wnext,c=r.window,k=r.hold,C=r.bits,S=r.lencode,U=r.distcode,A=(1<<r.lenbits)-1,F=(1<<r.distbits)-1;t:do{C<15&&(k+=a[d++]<<C,C+=8,k+=a[d++]<<C,C+=8),w=S[k&A];e:for(;;){if(k>>>=m=w>>>24,C-=m,(m=w>>>16&255)===0)R[o++]=65535&w;else{if(!(16&m)){if((64&m)==0){w=S[(65535&w)+(k&(1<<m)-1)];continue e}if(32&m){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}O=65535&w,(m&=15)&&(C<m&&(k+=a[d++]<<C,C+=8),O+=k&(1<<m)-1,k>>>=m,C-=m),C<15&&(k+=a[d++]<<C,C+=8,k+=a[d++]<<C,C+=8),w=U[k&F];r:for(;;){if(k>>>=m=w>>>24,C-=m,!(16&(m=w>>>16&255))){if((64&m)==0){w=U[(65535&w)+(k&(1<<m)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(B=65535&w,C<(m&=15)&&(k+=a[d++]<<C,(C+=8)<m&&(k+=a[d++]<<C,C+=8)),n<(B+=k&(1<<m)-1)){t.msg="invalid distance too far back",r.mode=30;break t}if(k>>>=m,C-=m,(m=o-s)<B){if(f<(m=B-m)&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(E=c,(g=0)===p){if(g+=h-m,m<O){for(O-=m;R[o++]=c[g++],--m;);g=o-B,E=R}}else if(p<m){if(g+=h+p-m,(m-=p)<O){for(O-=m;R[o++]=c[g++],--m;);if(g=0,p<O){for(O-=m=p;R[o++]=c[g++],--m;);g=o-B,E=R}}}else if(g+=p-m,m<O){for(O-=m;R[o++]=c[g++],--m;);g=o-B,E=R}for(;2<O;)R[o++]=E[g++],R[o++]=E[g++],R[o++]=E[g++],O-=3;O&&(R[o++]=E[g++],1<O&&(R[o++]=E[g++]))}else{for(g=o-B;R[o++]=R[g++],R[o++]=R[g++],R[o++]=R[g++],2<(O-=3););O&&(R[o++]=R[g++],1<O&&(R[o++]=R[g++]))}break}}break}}while(d<_&&o<i);d-=O=C>>3,k&=(1<<(C-=O<<3))-1,t.next_in=d,t.next_out=o,t.avail_in=d<_?_-d+5:5-(d-_),t.avail_out=o<i?i-o+257:257-(o-i),r.hold=k,r.bits=C}},{}],49:[function(y,b,e){var t=y("../utils/common"),l=y("./adler32"),r=y("./crc32"),d=y("./inffast"),_=y("./inftrees"),o=1,s=2,i=0,n=-2,h=1,f=852,p=592;function c(g){return(g>>>24&255)+(g>>>8&65280)+((65280&g)<<8)+((255&g)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(g){var E;return g&&g.state?(E=g.state,g.total_in=g.total_out=E.total=0,g.msg="",E.wrap&&(g.adler=1&E.wrap),E.mode=h,E.last=0,E.havedict=0,E.dmax=32768,E.head=null,E.hold=0,E.bits=0,E.lencode=E.lendyn=new t.Buf32(f),E.distcode=E.distdyn=new t.Buf32(p),E.sane=1,E.back=-1,i):n}function S(g){var E;return g&&g.state?((E=g.state).wsize=0,E.whave=0,E.wnext=0,C(g)):n}function U(g,E){var a,R;return g&&g.state?(R=g.state,E<0?(a=0,E=-E):(a=1+(E>>4),E<48&&(E&=15)),E&&(E<8||15<E)?n:(R.window!==null&&R.wbits!==E&&(R.window=null),R.wrap=a,R.wbits=E,S(g))):n}function A(g,E){var a,R;return g?(R=new k,(g.state=R).window=null,(a=U(g,E))!==i&&(g.state=null),a):n}var F,w,m=!0;function O(g){if(m){var E;for(F=new t.Buf32(512),w=new t.Buf32(32),E=0;E<144;)g.lens[E++]=8;for(;E<256;)g.lens[E++]=9;for(;E<280;)g.lens[E++]=7;for(;E<288;)g.lens[E++]=8;for(_(o,g.lens,0,288,F,0,g.work,{bits:9}),E=0;E<32;)g.lens[E++]=5;_(s,g.lens,0,32,w,0,g.work,{bits:5}),m=!1}g.lencode=F,g.lenbits=9,g.distcode=w,g.distbits=5}function B(g,E,a,R){var x,v=g.state;return v.window===null&&(v.wsize=1<<v.wbits,v.wnext=0,v.whave=0,v.window=new t.Buf8(v.wsize)),R>=v.wsize?(t.arraySet(v.window,E,a-v.wsize,v.wsize,0),v.wnext=0,v.whave=v.wsize):(R<(x=v.wsize-v.wnext)&&(x=R),t.arraySet(v.window,E,a-R,x,v.wnext),(R-=x)?(t.arraySet(v.window,E,a-R,R,0),v.wnext=R,v.whave=v.wsize):(v.wnext+=x,v.wnext===v.wsize&&(v.wnext=0),v.whave<v.wsize&&(v.whave+=x))),0}e.inflateReset=S,e.inflateReset2=U,e.inflateResetKeep=C,e.inflateInit=function(g){return A(g,15)},e.inflateInit2=A,e.inflate=function(g,E){var a,R,x,v,$,T,G,L,D,Y,W,P,tt,lt,et,rt,st,ot,ct,gt,u,q,H,I,z=0,N=new t.Buf8(4),K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!g||!g.state||!g.output||!g.input&&g.avail_in!==0)return n;(a=g.state).mode===12&&(a.mode=13),$=g.next_out,x=g.output,G=g.avail_out,v=g.next_in,R=g.input,T=g.avail_in,L=a.hold,D=a.bits,Y=T,W=G,q=i;t:for(;;)switch(a.mode){case h:if(a.wrap===0){a.mode=13;break}for(;D<16;){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}if(2&a.wrap&&L===35615){N[a.check=0]=255&L,N[1]=L>>>8&255,a.check=r(a.check,N,2,0),D=L=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&L)<<8)+(L>>8))%31){g.msg="incorrect header check",a.mode=30;break}if((15&L)!=8){g.msg="unknown compression method",a.mode=30;break}if(D-=4,u=8+(15&(L>>>=4)),a.wbits===0)a.wbits=u;else if(u>a.wbits){g.msg="invalid window size",a.mode=30;break}a.dmax=1<<u,g.adler=a.check=1,a.mode=512&L?10:12,D=L=0;break;case 2:for(;D<16;){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}if(a.flags=L,(255&a.flags)!=8){g.msg="unknown compression method",a.mode=30;break}if(57344&a.flags){g.msg="unknown header flags set",a.mode=30;break}a.head&&(a.head.text=L>>8&1),512&a.flags&&(N[0]=255&L,N[1]=L>>>8&255,a.check=r(a.check,N,2,0)),D=L=0,a.mode=3;case 3:for(;D<32;){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}a.head&&(a.head.time=L),512&a.flags&&(N[0]=255&L,N[1]=L>>>8&255,N[2]=L>>>16&255,N[3]=L>>>24&255,a.check=r(a.check,N,4,0)),D=L=0,a.mode=4;case 4:for(;D<16;){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}a.head&&(a.head.xflags=255&L,a.head.os=L>>8),512&a.flags&&(N[0]=255&L,N[1]=L>>>8&255,a.check=r(a.check,N,2,0)),D=L=0,a.mode=5;case 5:if(1024&a.flags){for(;D<16;){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}a.length=L,a.head&&(a.head.extra_len=L),512&a.flags&&(N[0]=255&L,N[1]=L>>>8&255,a.check=r(a.check,N,2,0)),D=L=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags&&(T<(P=a.length)&&(P=T),P&&(a.head&&(u=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),t.arraySet(a.head.extra,R,v,P,u)),512&a.flags&&(a.check=r(a.check,R,P,v)),T-=P,v+=P,a.length-=P),a.length))break t;a.length=0,a.mode=7;case 7:if(2048&a.flags){if(T===0)break t;for(P=0;u=R[v+P++],a.head&&u&&a.length<65536&&(a.head.name+=String.fromCharCode(u)),u&&P<T;);if(512&a.flags&&(a.check=r(a.check,R,P,v)),T-=P,v+=P,u)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(T===0)break t;for(P=0;u=R[v+P++],a.head&&u&&a.length<65536&&(a.head.comment+=String.fromCharCode(u)),u&&P<T;);if(512&a.flags&&(a.check=r(a.check,R,P,v)),T-=P,v+=P,u)break t}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;D<16;){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}if(L!==(65535&a.check)){g.msg="header crc mismatch",a.mode=30;break}D=L=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),g.adler=a.check=0,a.mode=12;break;case 10:for(;D<32;){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}g.adler=a.check=c(L),D=L=0,a.mode=11;case 11:if(a.havedict===0)return g.next_out=$,g.avail_out=G,g.next_in=v,g.avail_in=T,a.hold=L,a.bits=D,2;g.adler=a.check=1,a.mode=12;case 12:if(E===5||E===6)break t;case 13:if(a.last){L>>>=7&D,D-=7&D,a.mode=27;break}for(;D<3;){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}switch(a.last=1&L,D-=1,3&(L>>>=1)){case 0:a.mode=14;break;case 1:if(O(a),a.mode=20,E!==6)break;L>>>=2,D-=2;break t;case 2:a.mode=17;break;case 3:g.msg="invalid block type",a.mode=30}L>>>=2,D-=2;break;case 14:for(L>>>=7&D,D-=7&D;D<32;){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}if((65535&L)!=(L>>>16^65535)){g.msg="invalid stored block lengths",a.mode=30;break}if(a.length=65535&L,D=L=0,a.mode=15,E===6)break t;case 15:a.mode=16;case 16:if(P=a.length){if(T<P&&(P=T),G<P&&(P=G),P===0)break t;t.arraySet(x,R,v,P,$),T-=P,v+=P,G-=P,$+=P,a.length-=P;break}a.mode=12;break;case 17:for(;D<14;){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}if(a.nlen=257+(31&L),L>>>=5,D-=5,a.ndist=1+(31&L),L>>>=5,D-=5,a.ncode=4+(15&L),L>>>=4,D-=4,286<a.nlen||30<a.ndist){g.msg="too many length or distance symbols",a.mode=30;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;D<3;){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}a.lens[K[a.have++]]=7&L,L>>>=3,D-=3}for(;a.have<19;)a.lens[K[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,H={bits:a.lenbits},q=_(0,a.lens,0,19,a.lencode,0,a.work,H),a.lenbits=H.bits,q){g.msg="invalid code lengths set",a.mode=30;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;rt=(z=a.lencode[L&(1<<a.lenbits)-1])>>>16&255,st=65535&z,!((et=z>>>24)<=D);){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}if(st<16)L>>>=et,D-=et,a.lens[a.have++]=st;else{if(st===16){for(I=et+2;D<I;){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}if(L>>>=et,D-=et,a.have===0){g.msg="invalid bit length repeat",a.mode=30;break}u=a.lens[a.have-1],P=3+(3&L),L>>>=2,D-=2}else if(st===17){for(I=et+3;D<I;){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}D-=et,u=0,P=3+(7&(L>>>=et)),L>>>=3,D-=3}else{for(I=et+7;D<I;){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}D-=et,u=0,P=11+(127&(L>>>=et)),L>>>=7,D-=7}if(a.have+P>a.nlen+a.ndist){g.msg="invalid bit length repeat",a.mode=30;break}for(;P--;)a.lens[a.have++]=u}}if(a.mode===30)break;if(a.lens[256]===0){g.msg="invalid code -- missing end-of-block",a.mode=30;break}if(a.lenbits=9,H={bits:a.lenbits},q=_(o,a.lens,0,a.nlen,a.lencode,0,a.work,H),a.lenbits=H.bits,q){g.msg="invalid literal/lengths set",a.mode=30;break}if(a.distbits=6,a.distcode=a.distdyn,H={bits:a.distbits},q=_(s,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,H),a.distbits=H.bits,q){g.msg="invalid distances set",a.mode=30;break}if(a.mode=20,E===6)break t;case 20:a.mode=21;case 21:if(6<=T&&258<=G){g.next_out=$,g.avail_out=G,g.next_in=v,g.avail_in=T,a.hold=L,a.bits=D,d(g,W),$=g.next_out,x=g.output,G=g.avail_out,v=g.next_in,R=g.input,T=g.avail_in,L=a.hold,D=a.bits,a.mode===12&&(a.back=-1);break}for(a.back=0;rt=(z=a.lencode[L&(1<<a.lenbits)-1])>>>16&255,st=65535&z,!((et=z>>>24)<=D);){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}if(rt&&(240&rt)==0){for(ot=et,ct=rt,gt=st;rt=(z=a.lencode[gt+((L&(1<<ot+ct)-1)>>ot)])>>>16&255,st=65535&z,!(ot+(et=z>>>24)<=D);){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}L>>>=ot,D-=ot,a.back+=ot}if(L>>>=et,D-=et,a.back+=et,a.length=st,rt===0){a.mode=26;break}if(32&rt){a.back=-1,a.mode=12;break}if(64&rt){g.msg="invalid literal/length code",a.mode=30;break}a.extra=15&rt,a.mode=22;case 22:if(a.extra){for(I=a.extra;D<I;){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}a.length+=L&(1<<a.extra)-1,L>>>=a.extra,D-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;rt=(z=a.distcode[L&(1<<a.distbits)-1])>>>16&255,st=65535&z,!((et=z>>>24)<=D);){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}if((240&rt)==0){for(ot=et,ct=rt,gt=st;rt=(z=a.distcode[gt+((L&(1<<ot+ct)-1)>>ot)])>>>16&255,st=65535&z,!(ot+(et=z>>>24)<=D);){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}L>>>=ot,D-=ot,a.back+=ot}if(L>>>=et,D-=et,a.back+=et,64&rt){g.msg="invalid distance code",a.mode=30;break}a.offset=st,a.extra=15&rt,a.mode=24;case 24:if(a.extra){for(I=a.extra;D<I;){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}a.offset+=L&(1<<a.extra)-1,L>>>=a.extra,D-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){g.msg="invalid distance too far back",a.mode=30;break}a.mode=25;case 25:if(G===0)break t;if(P=W-G,a.offset>P){if((P=a.offset-P)>a.whave&&a.sane){g.msg="invalid distance too far back",a.mode=30;break}tt=P>a.wnext?(P-=a.wnext,a.wsize-P):a.wnext-P,P>a.length&&(P=a.length),lt=a.window}else lt=x,tt=$-a.offset,P=a.length;for(G<P&&(P=G),G-=P,a.length-=P;x[$++]=lt[tt++],--P;);a.length===0&&(a.mode=21);break;case 26:if(G===0)break t;x[$++]=a.length,G--,a.mode=21;break;case 27:if(a.wrap){for(;D<32;){if(T===0)break t;T--,L|=R[v++]<<D,D+=8}if(W-=G,g.total_out+=W,a.total+=W,W&&(g.adler=a.check=a.flags?r(a.check,x,W,$-W):l(a.check,x,W,$-W)),W=G,(a.flags?L:c(L))!==a.check){g.msg="incorrect data check",a.mode=30;break}D=L=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;D<32;){if(T===0)break t;T--,L+=R[v++]<<D,D+=8}if(L!==(4294967295&a.total)){g.msg="incorrect length check",a.mode=30;break}D=L=0}a.mode=29;case 29:q=1;break t;case 30:q=-3;break t;case 31:return-4;default:return n}return g.next_out=$,g.avail_out=G,g.next_in=v,g.avail_in=T,a.hold=L,a.bits=D,(a.wsize||W!==g.avail_out&&a.mode<30&&(a.mode<27||E!==4))&&B(g,g.output,g.next_out,W-g.avail_out)?(a.mode=31,-4):(Y-=g.avail_in,W-=g.avail_out,g.total_in+=Y,g.total_out+=W,a.total+=W,a.wrap&&W&&(g.adler=a.check=a.flags?r(a.check,x,W,g.next_out-W):l(a.check,x,W,g.next_out-W)),g.data_type=a.bits+(a.last?64:0)+(a.mode===12?128:0)+(a.mode===20||a.mode===15?256:0),(Y==0&&W===0||E===4)&&q===i&&(q=-5),q)},e.inflateEnd=function(g){if(!g||!g.state)return n;var E=g.state;return E.window&&(E.window=null),g.state=null,i},e.inflateGetHeader=function(g,E){var a;return g&&g.state?(2&(a=g.state).wrap)==0?n:((a.head=E).done=!1,i):n},e.inflateSetDictionary=function(g,E){var a,R=E.length;return g&&g.state?(a=g.state).wrap!==0&&a.mode!==11?n:a.mode===11&&l(1,E,R,0)!==a.check?-3:B(g,E,R,R)?(a.mode=31,-4):(a.havedict=1,i):n},e.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(y,b,e){var t=y("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],_=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(o,s,i,n,h,f,p,c){var k,C,S,U,A,F,w,m,O,B=c.bits,g=0,E=0,a=0,R=0,x=0,v=0,$=0,T=0,G=0,L=0,D=null,Y=0,W=new t.Buf16(16),P=new t.Buf16(16),tt=null,lt=0;for(g=0;g<=15;g++)W[g]=0;for(E=0;E<n;E++)W[s[i+E]]++;for(x=B,R=15;1<=R&&W[R]===0;R--);if(R<x&&(x=R),R===0)return h[f++]=20971520,h[f++]=20971520,c.bits=1,0;for(a=1;a<R&&W[a]===0;a++);for(x<a&&(x=a),g=T=1;g<=15;g++)if(T<<=1,(T-=W[g])<0)return-1;if(0<T&&(o===0||R!==1))return-1;for(P[1]=0,g=1;g<15;g++)P[g+1]=P[g]+W[g];for(E=0;E<n;E++)s[i+E]!==0&&(p[P[s[i+E]]++]=E);if(F=o===0?(D=tt=p,19):o===1?(D=l,Y-=257,tt=r,lt-=257,256):(D=d,tt=_,-1),g=a,A=f,$=E=L=0,S=-1,U=(G=1<<(v=x))-1,o===1&&852<G||o===2&&592<G)return 1;for(;;){for(w=g-$,O=p[E]<F?(m=0,p[E]):p[E]>F?(m=tt[lt+p[E]],D[Y+p[E]]):(m=96,0),k=1<<g-$,a=C=1<<v;h[A+(L>>$)+(C-=k)]=w<<24|m<<16|O|0,C!==0;);for(k=1<<g-1;L&k;)k>>=1;if(k!==0?(L&=k-1,L+=k):L=0,E++,--W[g]==0){if(g===R)break;g=s[i+p[E]]}if(x<g&&(L&U)!==S){for($===0&&($=x),A+=a,T=1<<(v=g-$);v+$<R&&!((T-=W[v+$])<=0);)v++,T<<=1;if(G+=1<<v,o===1&&852<G||o===2&&592<G)return 1;h[S=L&U]=x<<24|v<<16|A-f|0}}return L!==0&&(h[A+L]=g-$<<24|64<<16|0),c.bits=x,0}},{"../utils/common":41}],51:[function(y,b,e){b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(y,b,e){var t=y("../utils/common"),l=0,r=1;function d(z){for(var N=z.length;0<=--N;)z[N]=0}var _=0,o=29,s=256,i=s+1+o,n=30,h=19,f=2*i+1,p=15,c=16,k=7,C=256,S=16,U=17,A=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(2*(i+2));d(B);var g=new Array(2*n);d(g);var E=new Array(512);d(E);var a=new Array(256);d(a);var R=new Array(o);d(R);var x,v,$,T=new Array(n);function G(z,N,K,Q,Z){this.static_tree=z,this.extra_bits=N,this.extra_base=K,this.elems=Q,this.max_length=Z,this.has_stree=z&&z.length}function L(z,N){this.dyn_tree=z,this.max_code=0,this.stat_desc=N}function D(z){return z<256?E[z]:E[256+(z>>>7)]}function Y(z,N){z.pending_buf[z.pending++]=255&N,z.pending_buf[z.pending++]=N>>>8&255}function W(z,N,K){z.bi_valid>c-K?(z.bi_buf|=N<<z.bi_valid&65535,Y(z,z.bi_buf),z.bi_buf=N>>c-z.bi_valid,z.bi_valid+=K-c):(z.bi_buf|=N<<z.bi_valid&65535,z.bi_valid+=K)}function P(z,N,K){W(z,K[2*N],K[2*N+1])}function tt(z,N){for(var K=0;K|=1&z,z>>>=1,K<<=1,0<--N;);return K>>>1}function lt(z,N,K){var Q,Z,V=new Array(p+1),J=0;for(Q=1;Q<=p;Q++)V[Q]=J=J+K[Q-1]<<1;for(Z=0;Z<=N;Z++){var X=z[2*Z+1];X!==0&&(z[2*Z]=tt(V[X]++,X))}}function et(z){var N;for(N=0;N<i;N++)z.dyn_ltree[2*N]=0;for(N=0;N<n;N++)z.dyn_dtree[2*N]=0;for(N=0;N<h;N++)z.bl_tree[2*N]=0;z.dyn_ltree[2*C]=1,z.opt_len=z.static_len=0,z.last_lit=z.matches=0}function rt(z){8<z.bi_valid?Y(z,z.bi_buf):0<z.bi_valid&&(z.pending_buf[z.pending++]=z.bi_buf),z.bi_buf=0,z.bi_valid=0}function st(z,N,K,Q){var Z=2*N,V=2*K;return z[Z]<z[V]||z[Z]===z[V]&&Q[N]<=Q[K]}function ot(z,N,K){for(var Q=z.heap[K],Z=K<<1;Z<=z.heap_len&&(Z<z.heap_len&&st(N,z.heap[Z+1],z.heap[Z],z.depth)&&Z++,!st(N,Q,z.heap[Z],z.depth));)z.heap[K]=z.heap[Z],K=Z,Z<<=1;z.heap[K]=Q}function ct(z,N,K){var Q,Z,V,J,X=0;if(z.last_lit!==0)for(;Q=z.pending_buf[z.d_buf+2*X]<<8|z.pending_buf[z.d_buf+2*X+1],Z=z.pending_buf[z.l_buf+X],X++,Q===0?P(z,Z,N):(P(z,(V=a[Z])+s+1,N),(J=F[V])!==0&&W(z,Z-=R[V],J),P(z,V=D(--Q),K),(J=w[V])!==0&&W(z,Q-=T[V],J)),X<z.last_lit;);P(z,C,N)}function gt(z,N){var K,Q,Z,V=N.dyn_tree,J=N.stat_desc.static_tree,X=N.stat_desc.has_stree,nt=N.stat_desc.elems,ft=-1;for(z.heap_len=0,z.heap_max=f,K=0;K<nt;K++)V[2*K]!==0?(z.heap[++z.heap_len]=ft=K,z.depth[K]=0):V[2*K+1]=0;for(;z.heap_len<2;)V[2*(Z=z.heap[++z.heap_len]=ft<2?++ft:0)]=1,z.depth[Z]=0,z.opt_len--,X&&(z.static_len-=J[2*Z+1]);for(N.max_code=ft,K=z.heap_len>>1;1<=K;K--)ot(z,V,K);for(Z=nt;K=z.heap[1],z.heap[1]=z.heap[z.heap_len--],ot(z,V,1),Q=z.heap[1],z.heap[--z.heap_max]=K,z.heap[--z.heap_max]=Q,V[2*Z]=V[2*K]+V[2*Q],z.depth[Z]=(z.depth[K]>=z.depth[Q]?z.depth[K]:z.depth[Q])+1,V[2*K+1]=V[2*Q+1]=Z,z.heap[1]=Z++,ot(z,V,1),2<=z.heap_len;);z.heap[--z.heap_max]=z.heap[1],(function(it,mt){var pt,dt,_t,ut,bt,xt,kt=mt.dyn_tree,Nt=mt.max_code,Bt=mt.stat_desc.static_tree,Lt=mt.stat_desc.has_stree,It=mt.stat_desc.extra_bits,Mt=mt.stat_desc.extra_base,wt=mt.stat_desc.max_length,At=0;for(ut=0;ut<=p;ut++)it.bl_count[ut]=0;for(kt[2*it.heap[it.heap_max]+1]=0,pt=it.heap_max+1;pt<f;pt++)wt<(ut=kt[2*kt[2*(dt=it.heap[pt])+1]+1]+1)&&(ut=wt,At++),kt[2*dt+1]=ut,Nt<dt||(it.bl_count[ut]++,bt=0,Mt<=dt&&(bt=It[dt-Mt]),xt=kt[2*dt],it.opt_len+=xt*(ut+bt),Lt&&(it.static_len+=xt*(Bt[2*dt+1]+bt)));if(At!==0){do{for(ut=wt-1;it.bl_count[ut]===0;)ut--;it.bl_count[ut]--,it.bl_count[ut+1]+=2,it.bl_count[wt]--,At-=2}while(0<At);for(ut=wt;ut!==0;ut--)for(dt=it.bl_count[ut];dt!==0;)Nt<(_t=it.heap[--pt])||(kt[2*_t+1]!==ut&&(it.opt_len+=(ut-kt[2*_t+1])*kt[2*_t],kt[2*_t+1]=ut),dt--)}})(z,N),lt(V,ft,z.bl_count)}function u(z,N,K){var Q,Z,V=-1,J=N[1],X=0,nt=7,ft=4;for(J===0&&(nt=138,ft=3),N[2*(K+1)+1]=65535,Q=0;Q<=K;Q++)Z=J,J=N[2*(Q+1)+1],++X<nt&&Z===J||(X<ft?z.bl_tree[2*Z]+=X:Z!==0?(Z!==V&&z.bl_tree[2*Z]++,z.bl_tree[2*S]++):X<=10?z.bl_tree[2*U]++:z.bl_tree[2*A]++,V=Z,ft=(X=0)===J?(nt=138,3):Z===J?(nt=6,3):(nt=7,4))}function q(z,N,K){var Q,Z,V=-1,J=N[1],X=0,nt=7,ft=4;for(J===0&&(nt=138,ft=3),Q=0;Q<=K;Q++)if(Z=J,J=N[2*(Q+1)+1],!(++X<nt&&Z===J)){if(X<ft)for(;P(z,Z,z.bl_tree),--X!=0;);else Z!==0?(Z!==V&&(P(z,Z,z.bl_tree),X--),P(z,S,z.bl_tree),W(z,X-3,2)):X<=10?(P(z,U,z.bl_tree),W(z,X-3,3)):(P(z,A,z.bl_tree),W(z,X-11,7));V=Z,ft=(X=0)===J?(nt=138,3):Z===J?(nt=6,3):(nt=7,4)}}d(T);var H=!1;function I(z,N,K,Q){W(z,(_<<1)+(Q?1:0),3),(function(Z,V,J,X){rt(Z),Y(Z,J),Y(Z,~J),t.arraySet(Z.pending_buf,Z.window,V,J,Z.pending),Z.pending+=J})(z,N,K)}e._tr_init=function(z){H||((function(){var N,K,Q,Z,V,J=new Array(p+1);for(Z=Q=0;Z<o-1;Z++)for(R[Z]=Q,N=0;N<1<<F[Z];N++)a[Q++]=Z;for(a[Q-1]=Z,Z=V=0;Z<16;Z++)for(T[Z]=V,N=0;N<1<<w[Z];N++)E[V++]=Z;for(V>>=7;Z<n;Z++)for(T[Z]=V<<7,N=0;N<1<<w[Z]-7;N++)E[256+V++]=Z;for(K=0;K<=p;K++)J[K]=0;for(N=0;N<=143;)B[2*N+1]=8,N++,J[8]++;for(;N<=255;)B[2*N+1]=9,N++,J[9]++;for(;N<=279;)B[2*N+1]=7,N++,J[7]++;for(;N<=287;)B[2*N+1]=8,N++,J[8]++;for(lt(B,i+1,J),N=0;N<n;N++)g[2*N+1]=5,g[2*N]=tt(N,5);x=new G(B,F,s+1,i,p),v=new G(g,w,0,n,p),$=new G(new Array(0),m,0,h,k)})(),H=!0),z.l_desc=new L(z.dyn_ltree,x),z.d_desc=new L(z.dyn_dtree,v),z.bl_desc=new L(z.bl_tree,$),z.bi_buf=0,z.bi_valid=0,et(z)},e._tr_stored_block=I,e._tr_flush_block=function(z,N,K,Q){var Z,V,J=0;0<z.level?(z.strm.data_type===2&&(z.strm.data_type=(function(X){var nt,ft=4093624447;for(nt=0;nt<=31;nt++,ft>>>=1)if(1&ft&&X.dyn_ltree[2*nt]!==0)return l;if(X.dyn_ltree[18]!==0||X.dyn_ltree[20]!==0||X.dyn_ltree[26]!==0)return r;for(nt=32;nt<s;nt++)if(X.dyn_ltree[2*nt]!==0)return r;return l})(z)),gt(z,z.l_desc),gt(z,z.d_desc),J=(function(X){var nt;for(u(X,X.dyn_ltree,X.l_desc.max_code),u(X,X.dyn_dtree,X.d_desc.max_code),gt(X,X.bl_desc),nt=h-1;3<=nt&&X.bl_tree[2*O[nt]+1]===0;nt--);return X.opt_len+=3*(nt+1)+5+5+4,nt})(z),Z=z.opt_len+3+7>>>3,(V=z.static_len+3+7>>>3)<=Z&&(Z=V)):Z=V=K+5,K+4<=Z&&N!==-1?I(z,N,K,Q):z.strategy===4||V===Z?(W(z,2+(Q?1:0),3),ct(z,B,g)):(W(z,4+(Q?1:0),3),(function(X,nt,ft,it){var mt;for(W(X,nt-257,5),W(X,ft-1,5),W(X,it-4,4),mt=0;mt<it;mt++)W(X,X.bl_tree[2*O[mt]+1],3);q(X,X.dyn_ltree,nt-1),q(X,X.dyn_dtree,ft-1)})(z,z.l_desc.max_code+1,z.d_desc.max_code+1,J+1),ct(z,z.dyn_ltree,z.dyn_dtree)),et(z),Q&&rt(z)},e._tr_tally=function(z,N,K){return z.pending_buf[z.d_buf+2*z.last_lit]=N>>>8&255,z.pending_buf[z.d_buf+2*z.last_lit+1]=255&N,z.pending_buf[z.l_buf+z.last_lit]=255&K,z.last_lit++,N===0?z.dyn_ltree[2*K]++:(z.matches++,N--,z.dyn_ltree[2*(a[K]+s+1)]++,z.dyn_dtree[2*D(N)]++),z.last_lit===z.lit_bufsize-1},e._tr_align=function(z){W(z,2,3),P(z,C,B),(function(N){N.bi_valid===16?(Y(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):8<=N.bi_valid&&(N.pending_buf[N.pending++]=255&N.bi_buf,N.bi_buf>>=8,N.bi_valid-=8)})(z)}},{"../utils/common":41}],53:[function(y,b,e){b.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(y,b,e){(function(t){(function(l,r){if(!l.setImmediate){var d,_,o,s,i=1,n={},h=!1,f=l.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(l);p=p&&p.setTimeout?p:l,d={}.toString.call(l.process)==="[object process]"?function(S){process.nextTick(function(){k(S)})}:(function(){if(l.postMessage&&!l.importScripts){var S=!0,U=l.onmessage;return l.onmessage=function(){S=!1},l.postMessage("","*"),l.onmessage=U,S}})()?(s="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",C,!1):l.attachEvent("onmessage",C),function(S){l.postMessage(s+S,"*")}):l.MessageChannel?((o=new MessageChannel).port1.onmessage=function(S){k(S.data)},function(S){o.port2.postMessage(S)}):f&&"onreadystatechange"in f.createElement("script")?(_=f.documentElement,function(S){var U=f.createElement("script");U.onreadystatechange=function(){k(S),U.onreadystatechange=null,_.removeChild(U),U=null},_.appendChild(U)}):function(S){setTimeout(k,0,S)},p.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var U=new Array(arguments.length-1),A=0;A<U.length;A++)U[A]=arguments[A+1];var F={callback:S,args:U};return n[i]=F,d(i),i++},p.clearImmediate=c}function c(S){delete n[S]}function k(S){if(h)setTimeout(k,0,S);else{var U=n[S];if(U){h=!0;try{(function(A){var F=A.callback,w=A.args;switch(w.length){case 0:F();break;case 1:F(w[0]);break;case 2:F(w[0],w[1]);break;case 3:F(w[0],w[1],w[2]);break;default:F.apply(r,w)}})(U)}finally{c(S),h=!1}}}}function C(S){S.source===l&&typeof S.data=="string"&&S.data.indexOf(s)===0&&k(+S.data.slice(s.length))}})(typeof self>"u"?t===void 0?this:t:self)}).call(this,typeof jt<"u"?jt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Vt)),Vt.exports}var Oe=Ie();const Ue=Ee(Oe);let ht=[],St=null;const me=(j,M=1)=>{if(j===0)return"0 B";const y=1024,b=M<0?0:M,e=["B","KB","MB","GB"],t=Math.floor(Math.log(j)/Math.log(y));return parseFloat((j/Math.pow(y,t)).toFixed(b))+" "+e[t]},ge=(j,M)=>{const y=j.match(/\.(png|jpg|jpeg|webp)$/i);return`${j.replace(/\.(png|jpg|jpeg|webp)$/i,"")}${M}${y?y[0]:".png"}`},He=()=>`
  <div class="optimizar_container">
    <div class="opt_layout">
      <!-- LEFT: DRAG & DROP + PREVIEW -->
      <div class="opt_left">
        <!-- ZONA DE CARGA -->
        <div class="opt_drop_zone" id="dropZone">
          <div class="drop_placeholder">
            <i class="fas fa-cloud-upload-alt"></i>
            <h2>Optimiza tus imgenes aqu</h2>
            <p>o haz doble clic para seleccionar</p>
            <small>PNG, JPG, JPEG, WEBP (mx 50MB)</small>
          </div>
          <input type="file" id="fileInput" accept="image/png,image/jpeg,image/jpg,image/webp" multiple hidden>
        </div>

        <!-- PREVIEW SIMPLE -->
        <div class="opt_preview dpn" id="previewArea">
          <div class="preview_image_container">
            <img id="previewImage" src="" alt="Preview">
          </div>

          <!-- STATS + CONTROLES -->
          <div class="preview_stats dpn" id="previewStats">
            <div class="stats_info">
              <div class="stat_compact">
                <i class="fas fa-file-alt"></i>
                <span id="statNombre">-</span>
              </div>
              <div class="stat_compact">
                <i class="fas fa-expand-arrows-alt"></i>
                <span id="statDimensiones">-</span>
              </div>
              <div class="stat_compact">
                <i class="fas fa-weight-hanging"></i>
                <span id="statTamano">-</span>
              </div>
              <div class="stat_compact">
                <i class="fas fa-layer-group"></i>
                <span id="statOptimizaciones">-</span>
              </div>
            </div>
            
            <div class="stats_controls">
              <button class="btn_stat_control" id="btnOptimizeCurrent">
                <i class="fas fa-magic"></i>
                <span>Optimizar</span>
              </button>
              <button class="btn_stat_control" id="btnDownloadCurrent">
                <i class="fas fa-download"></i>
                <span>Descargar</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT: CONFIGURACIN + ACCIONES -->
      <div class="opt_right">
        <!-- CONFIGURACIN -->
        <div class="config_section">
          <h3><i class="fas fa-sliders-h"></i> Configuracin</h3>
          
          <div class="config_item">
            <label for="quality">
              <i class="fas fa-star"></i> Calidad
            </label>
            <input type="range" id="quality" value="80" min="10" max="100" step="5">
            <div class="quality_display">
              <span id="qualityValue">80</span>%
            </div>
          </div>
        </div>

        <!-- LISTA DE ARCHIVOS -->
        <div class="files_section">
          <div class="files_header">
            <h3>
              <input type="checkbox" id="selectAll" title="Seleccionar todos">
              <i class="fas fa-images"></i> 
              Archivos (<span id="filesCount">0</span>)
            </h3>
            <button class="btn_clear_all" id="btnClearAll" title="Limpiar todo">
              <i class="fas fa-trash"></i>
            </button>
          </div>
          <div class="files_list" id="filesList">
            <div class="files_empty">
              <i class="fas fa-folder-open"></i>
              <p>Sin archivos</p>
            </div>
          </div>
        </div>

        <!-- ACCIONES BATCH -->
        <div class="actions_section">
          <button class="btn_action btn_optimize" id="btnOptimizeSelected" disabled>
            <i class="fas fa-magic"></i>
            <span>Optimizar Seleccionados</span>
          </button>
          <button class="btn_action btn_download" id="btnDownloadZip" disabled>
            <i class="fas fa-file-archive"></i>
            <span>Descargar ZIP</span>
          </button>
        </div>
      </div>
    </div>
  </div>
`,Ge=()=>{console.log(` Optimizar de ${be} cargado`),at("#fileInput").on("change",Re),at("#btnOptimizeCurrent").on("click",Fe),at("#btnDownloadCurrent").on("click",Te),at("#btnOptimizeSelected").on("click",De),at("#btnDownloadZip").on("click",Be),at("#btnClearAll").on("click",ve),at("#selectAll").on("change",Pe);const j=at("#dropZone");j.on("dragover",M=>{M.preventDefault(),M.stopPropagation(),j.addClass("dragover")}),j.on("dragleave",M=>{M.preventDefault(),M.stopPropagation(),j.removeClass("dragover")}),j.on("drop",M=>{M.preventDefault(),M.stopPropagation(),j.removeClass("dragover");const y=M.originalEvent.dataTransfer.files;y.length&&_e(y)}),j.on("dblclick",function(M){M.preventDefault(),at("#fileInput").trigger("click")}),at("#quality").on("input",function(){at("#qualityValue").text(at(this).val())})};function Re(j){const M=j.target.files;M.length&&_e(M)}function _e(j){let M=0;const y=j.length;Array.from(j).forEach(b=>{if(!b.type.match("image/(png|jpeg|jpg|webp)")){zt(`${b.name}: formato no soportado`,"error",2e3);return}if(b.size>50*1024*1024){zt(`${b.name}: muy grande (mx 50MB)`,"error",2e3);return}const e=Date.now()+Math.random(),t=new FileReader;t.onload=l=>{const r=new Image;r.onload=()=>{const d={id:e,file:b,original:{url:l.target.result,size:b.size,width:r.width,height:r.height,name:b.name},isOptimized:!1,optimizationCount:0,selected:!1};ht.push(d),M++,M===y&&(Ft(),ht.length===M&&Qt(0),zt(`${M} archivo(s) agregado(s)`,"success",2e3))},r.src=l.target.result},t.readAsDataURL(b)})}function Qt(j){if(j<0||j>=ht.length)return;St=j;const M=ht[j];at("#dropZone").is(":visible")&&at("#dropZone").fadeOut(200,()=>{at("#previewArea").removeClass("dpn").hide().fadeIn(300)}),at("#previewImage").attr("src",M.original.url),at("#previewStats").removeClass("dpn").hide().fadeIn(200),at("#statNombre").text(M.original.name),at("#statDimensiones").text(`${M.original.width}${M.original.height}`),at("#statTamano").text(me(M.original.size)),at("#statOptimizaciones").text(M.optimizationCount>0?`${M.optimizationCount}`:"0"),at(".file_item").removeClass("active"),at(`.file_item[data-id="${M.id}"]`).addClass("active")}async function Fe(){if(St===null)return;const j=ht[St],M=at("#btnOptimizeCurrent");M.prop("disabled",!0).html('<i class="fas fa-spinner fa-spin"></i> <span>Procesando...</span>');const y=parseInt(at("#quality").val())/100;try{const b={maxSizeMB:50,maxWidthOrHeight:Math.max(j.original.width,j.original.height),useWebWorker:!0,initialQuality:y},e=performance.now(),t=await vt(j.file,b),l=performance.now();j.optimizationCount++;const r=ge(j.original.name,j.optimizationCount),d=new File([t],r,{type:t.type}),_=new FileReader;await new Promise(o=>{_.onload=s=>{const i=new Image;i.onload=()=>{const n={id:Date.now()+Math.random(),file:d,original:{url:s.target.result,size:t.size,width:i.width,height:i.height,name:r},isOptimized:!0,optimizationCount:0,selected:!1,reduccion:((j.original.size-t.size)/j.original.size*100).toFixed(1),tiempoCompresion:((l-e)/1e3).toFixed(2)};ht.push(n),Ft(),Qt(ht.length-1),zt(`Optimizado! -${n.reduccion}%`,"success",2e3),o()},i.src=s.target.result},_.readAsDataURL(t)})}catch(b){console.error("Error optimizando:",b),zt("Error al optimizar","error")}M.prop("disabled",!1).html('<i class="fas fa-magic"></i> <span>Optimizar</span>')}function Te(){if(St===null)return;const j=ht[St],M=URL.createObjectURL(j.file),y=document.createElement("a");y.href=M,y.download=j.original.name,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(M),ne("#btnDownloadCurrent","Descargado! ","success",1500)}async function De(){const j=ht.filter(e=>e.selected&&!e.isOptimized);if(j.length===0){zt("Selecciona archivos originales para optimizar","warning",2e3);return}const M=at("#btnOptimizeSelected");M.prop("disabled",!0).html('<i class="fas fa-spinner fa-spin"></i> <span>Optimizando...</span>');const y=parseInt(at("#quality").val())/100;let b=0;for(let e of j)try{const t={maxSizeMB:50,maxWidthOrHeight:Math.max(e.original.width,e.original.height),useWebWorker:!0,initialQuality:y},l=performance.now(),r=await vt(e.file,t),d=performance.now();e.optimizationCount++;const _=ge(e.original.name,e.optimizationCount),o=new File([r],_,{type:r.type}),s=new FileReader;await new Promise(i=>{s.onload=n=>{const h=new Image;h.onload=()=>{const f={id:Date.now()+Math.random(),file:o,original:{url:n.target.result,size:r.size,width:h.width,height:h.height,name:_},isOptimized:!0,optimizationCount:0,selected:!1,reduccion:((e.original.size-r.size)/e.original.size*100).toFixed(1),tiempoCompresion:((d-l)/1e3).toFixed(2)};ht.push(f),b++,Ft(),i()},h.src=n.target.result},s.readAsDataURL(r)})}catch(t){console.error("Error optimizando:",t),zt(`Error en ${e.original.name}`,"error")}M.prop("disabled",!1).html('<i class="fas fa-magic"></i> <span>Optimizar Seleccionados</span>'),zt(`${b} optimizada(s)!`,"success",2e3)}async function Be(){const j=ht.filter(y=>y.selected);if(j.length===0){zt("Selecciona archivos para descargar","warning",2e3);return}const M=at("#btnDownloadZip");M.prop("disabled",!0).html('<i class="fas fa-spinner fa-spin"></i> <span>Creando ZIP...</span>');try{const y=new Ue;j.forEach(l=>{y.file(l.original.name,l.file)});const b=await y.generateAsync({type:"blob"}),e=URL.createObjectURL(b),t=document.createElement("a");t.href=e,t.download=`imagenes_optimizadas_${Date.now()}.zip`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(e),ne("#btnDownloadZip",`${j.length} archivos descargados! `,"success",2e3)}catch(y){console.error("Error creando ZIP:",y),zt("Error al crear ZIP","error")}M.prop("disabled",!1).html('<i class="fas fa-file-archive"></i> <span>Descargar ZIP</span>')}function Pe(){const j=at("#selectAll").is(":checked");ht.forEach(M=>M.selected=j),Ft()}function ve(){ht.length&&(ht=[],St=null,at("#fileInput").val(""),at("#selectAll").prop("checked",!1),at("#previewArea").fadeOut(200,()=>{at("#dropZone").fadeIn(300)}),at("#previewStats").addClass("dpn"),Ft(),zt("Todo limpiado","success",1500))}function Ft(){at("#filesCount").text(ht.length);const j=ht.filter(b=>b.selected),M=j.filter(b=>!b.isOptimized);at("#btnOptimizeSelected").prop("disabled",M.length===0),at("#btnDownloadZip").prop("disabled",j.length===0);const y=ht.length>0&&ht.every(b=>b.selected);at("#selectAll").prop("checked",y),Ne()}function Ne(){const j=at("#filesList");if(!ht.length){j.html(`
      <div class="files_empty">
        <i class="fas fa-folder-open"></i>
        <p>Sin archivos</p>
      </div>
    `);return}j.html(ht.map((M,y)=>{const b=M.isOptimized?"fa-check-circle":"fa-image",e=M.isOptimized?"var(--success)":"var(--mco)";return`
      <div class="file_item ${y===St?"active":""} ${M.isOptimized?"optimized":""}" data-id="${M.id}">
        <div class="file_checkbox">
          <input type="checkbox" ${M.selected?"checked":""} data-id="${M.id}">
        </div>
        <div class="file_icon">
          <i class="fas ${b}" style="color: ${e}"></i>
        </div>
        <div class="file_info">
          <span class="file_name">${M.original.name}</span>
          <div class="file_meta">
            <span class="file_size">${me(M.original.size)}</span>
            ${M.isOptimized?`<span class="file_reduction">-${M.reduccion}%</span>`:""}
          </div>
        </div>
        <button class="btn_file_delete" data-id="${M.id}">
          <i class="fas fa-times"></i>
        </button>
      </div>
    `}).join("")),at(".file_item").on("click",function(M){if(at(M.target).is('input[type="checkbox"]')||at(M.target).closest(".btn_file_delete").length)return;const y=at(this).data("id"),b=ht.findIndex(e=>e.id===y);b!==-1&&Qt(b)}),at(".file_checkbox input").on("change",function(M){M.stopPropagation();const y=at(this).data("id"),b=ht.find(e=>e.id===y);b&&(b.selected=at(this).is(":checked"),Ft())}),at(".btn_file_delete").on("click",function(M){M.stopPropagation();const y=at(this).data("id");Le(y)})}function Le(j){const M=ht.findIndex(y=>y.id===j);M!==-1&&(ht.splice(M,1),ht.length===0?ve():(St>=ht.length&&(St=ht.length-1),Qt(St),Ft()))}const $e=()=>{console.log(" Optimizar limpiado"),ht=[],St=null,at("#fileInput, #btnOptimizeCurrent, #btnDownloadCurrent, #btnOptimizeSelected, #btnDownloadZip, #btnClearAll, #dropZone, #quality, #selectAll").off(),at(".file_item, .btn_file_delete, .file_checkbox input").off()};export{$e as cleanup,Ge as init,He as render};
